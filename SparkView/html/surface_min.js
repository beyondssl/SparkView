var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(e,k,v){if(null==e)throw new TypeError("The 'this' value for String.prototype."+v+" must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype."+v+" must not be a regular expression");return e+""};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,k,v){e!=Array.prototype&&e!=Object.prototype&&(e[k]=v.value)};
$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(e,k,v,B){if(k){v=$jscomp.global;e=e.split(".");for(B=0;B<e.length-1;B++){var D=e[B];D in v||(v[D]={});v=v[D]}e=e[e.length-1];B=v[e];k=k(B);k!=B&&null!=k&&$jscomp.defineProperty(v,e,{configurable:!0,writable:!0,value:k})}};
$jscomp.polyfill("String.prototype.startsWith",function(e){return e?e:function(e,v){var k=$jscomp.checkStringArgs(this,e,"startsWith");e+="";for(var D=k.length,F=e.length,y=Math.max(0,Math.min(v|0,k.length)),V=0;V<F&&y<D;)if(k[y++]!=e[V++])return!1;return V>=F}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.endsWith",function(e){return e?e:function(e,v){var k=$jscomp.checkStringArgs(this,e,"endsWith");e+="";void 0===v&&(v=k.length);for(var D=Math.max(0,Math.min(v|0,k.length)),F=e.length;0<F&&0<D;)if(k[--D]!=e[--F])return!1;return 0>=F}},"es6-impl","es3");var svGlobal=svGlobal||{logger:new hi5.Logger,util:{}};svGlobal.version="5.9.0";svGlobal.build="969";function cancelDefault(e){e.preventDefault&&e.preventDefault();e.stopPropagation&&e.stopPropagation();return!1}
function LocalInterface(e,k){function v(a){var b=a-hi5.browser.innerHeight;10<b&&22>b&&(a=hi5.browser.innerHeight);return a}function B(a){r.detectInput&&P&&X&&(ra||"text"==X.system||"none"==X.system?setTimeout(function(){Ta(!0)},5):setTimeout(function(){Ta(!1)},5));if(document.activeElement!=a||!g.focused){for(var b=a,d,c=[];b.parentElement;)if(b=b.parentElement,d=getComputedStyle(b))d.getPropertyValue("overflow"),"block"==d.getPropertyValue("display")&&c.push([b,b.scrollTop,b.scrollLeft]);a.focus();
if(c.length){a=0;for(d=c.length;a<d;a++){b=c[a];if(b[0].scrollTop!=b[1]||b[0].scrollLeft!=b[2])b[0].scrollTop=b[1],b[0].scrollLeft=b[2];c[a]=null}c=null}}}function D(){var a=[];this.sent=0;this.types=[];var b=this;this.datas=a;this.setData=function(d,c){if("text/plain"==d||"text/html"==d)2<c.length&&"`\t`"==c.substring(0,3)&&(c=c.substring(3)),c=c.replace(/\r?\n/g,"\r\n");b.types.push(d);a.push(c)};this.getData=function(d){var c=a[b.types.indexOf(d)];c||"text/richtext"!=d||(c=a[b.types.indexOf("text/html")]||
a[b.types.indexOf("text/plain")]);return c};this.removeData=function(d){d=b.types.indexOf(d);-1!=d&&(b.types.splice(d,1),a.splice(d,1))};this.equals=function(a){if(!a||!hi5.Arrays.equals(b.types,a.types))return!1;for(var c,d,n=b.types,x=0,e=n.length;x<e;x++)if(c=n[x],d=b.getData(c),c=a.getData(c),d!=c)return!1;return!0}}function F(){Ua=!0;sa=!1;if(q){var a=q.element;a.removeEventListener("copy",p.onCopy,!1);a.removeEventListener("cut",p.onCopy,!1)}svGlobal.logger.info("Async clipboard enabled.")}
function y(a){function b(){return J?a.value:t.isFirefox?a.textContent:a.innerText}function d(){w&&(z="",w.setValue(""))}function c(a){h=a.keyCode;if(w.onkeydown)w.onkeydown(a)}function f(a){if(w.onkeyup)w.onkeyup(a);a=a.keyCode;(13==a||32==a&&32==h)&&setTimeout(d,100)}function n(a){if(w.onbackspace)for(var c=0;c<a;c++)w.onbackspace()}function x(c){if(!w.disableTextInput){c.stopPropagation();c=b();var f=c.length;if(c!=z){var x=z.length,J=c.indexOf(z);if(c&&0===J){if(c=c.substring(x),0<c.length&&w.ontextinput&&
(w.ontextinput({data:c,target:a}),"."==c)){d();return}}else if(J=z.indexOf(c),0===J)8!=h&&n(x-f);else if(t.isAndroid&&n(x),0<c.length&&w.ontextinput)w.ontextinput({data:c,target:a});""===b()&&setTimeout(d,100);z=b()}}}function e(a){if(!w.disableTextInput&&a.data&&(a.stopPropagation(),t.isIE&&a.preventDefault(),w.ontextinput))w.ontextinput(a)}function g(a){if(w.oncomposition)w.oncomposition(a)}this.unicode=!1;var w=this,z="",h=0,J="INPUT"==a.nodeName||"TEXTAREA"==a.nodeName,k="DIV"==a.nodeName;this.setValue=
function(c){var b=w.disableTextInput;w.disableTextInput=!0;J?a.value=c:k&&(a.innerHTML=c);w.disableTextInput=b};this.init=d;this.disableTextInput=!1;d();a.addEventListener("keydown",c,!1);a.addEventListener("keyup",f,!1);a.addEventListener("keypress",function(a){if(w.onkeypress)w.onkeypress(a)},!1);t.isAndroid&&t.isChrome?(a.addEventListener("input",x,!1),a.addEventListener("mouseup",d,!1)):window.TextEvent?(a.addEventListener("textInput",e,!1),a.addEventListener("textinput",e,!1)):hi5.tool.hasProperty(InputEvent,
"data")?a.addEventListener("input",e,!1):(a.addEventListener("input",x,!1),a.addEventListener("mouseup",d,!1));a.addEventListener("compositionstart",g,!1);a.addEventListener("compositionend",g,!1);a.addEventListener("compositionupdate",g,!1);this.release=function(){w=null;a.removeEventListener("keydown",c,!1);a.removeEventListener("keyup",f,!1);a.removeEventListener("input",x,!1);a.removeEventListener("focus",d,!1);a.removeEventListener("textInput",e,!1);a.removeEventListener("textinput",e,!1);a=
null};this.select=function(){jb(a)}}function V(a,b,d){function c(a){var c=Ga(a);var d=a.deltaMode||0;var w=!!a.deltaX||!!a.wheelDeltaX;a.preventDefault();a.stopPropagation();if(1==d)b(-a.deltaY||-a.deltaX,c,w);else{var z="deltaY"in a?40:"wheelDelta"in a?120:0;if(z){d=Date.now();100<d-n&&(f=0);var x=-a.deltaY||-a.deltaX||a.wheelDelta;0!=x&&(f+=x,a=f/z|0,f%=z,0!==a&&b(a,c,w));n=d}else a=-a.detail,32768==Math.abs(a)&&(x=window.innerHeight/40|0,a=0>a?-x:x),b(a,c,!1)}}var f=0,n=0;a.addEventListener("DOMMouseScroll",
c,!0);a.addEventListener("mousewheel",c,!0)}function ta(a){function b(a){if(!n&&x.onmousedown)x.onmousedown(a)}function d(a){if(!n&&x.onmousemove)x.onmousemove(a)}function c(a){if(g&&g.focused)if(n)n=!1;else if(x.onmouseup)x.onmouseup(a)}function f(a){"touchstart"==a.type&&(n=!0);if(x.ontouch)x.ontouch(a)}var n=!1,x=this,e=navigator.pointerEnabled||navigator.msPointerEnabled||!1;"ontouchstart"in window||!e?(a.addEventListener("touchstart",f,!1),a.addEventListener("touchend",f,!1),a.addEventListener("touchmove",
f,!1),a.addEventListener("touchcancel",f,!1),document.addEventListener("mousemove",d,!1),a.addEventListener("mousedown",b,!1),document.addEventListener("mouseup",c,!1)):navigator.pointerEnabled?(a.addEventListener("pointerdown",f,!1),a.addEventListener("pointerup",f,!1),a.addEventListener("pointermove",f,!1),a.addEventListener("pointercancel",f,!1)):navigator.msPointerEnabled&&(a.addEventListener("MSPointerDown",f,!1),a.addEventListener("MSPointerUp",f,!1),a.addEventListener("MSPointerMove",f,!1),
a.addEventListener("MSPointerCancel",f,!1));this.release=function(){"ontouchstart"in window||!e?(a.removeEventListener("touchstart",f,!1),a.removeEventListener("touchend",f,!1),a.removeEventListener("touchmove",f,!1),a.removeEventListener("touchcancel",f,!1),document.removeEventListener("mousemove",d,!1),a.removeEventListener("mousedown",b,!1),document.removeEventListener("mouseup",c,!1)):navigator.pointerEnabled?(a.removeEventListener("pointerdown",f,!1),a.removeEventListener("pointerup",f,!1),a.removeEventListener("pointermove",
f,!1),a.removeEventListener("pointercancel",f,!1)):navigator.msPointerEnabled&&(a.removeEventListener("MSPointerDown",f,!1),a.removeEventListener("MSPointerUp",f,!1),a.removeEventListener("MSPointerMove",f,!1),a.removeEventListener("MSPointerCancel",f,!1));this.onmouseup=this.onmousemove=this.ontouch=this.onmousedown=null}}function Ha(){return ba?!0:!fa&&L<=window.innerWidth&&M<=window.innerHeight}function Tb(a){function b(a,b){for(var d,f=a.length,w=Array(f),z=0;z<f;z++){d=a[z];var n=Ia(d.clientX,
d.clientY,e),J=z;d=d.identifier;if(!(256>d)){var x=c.indexOf(d);-1!=x?d=x:(c.push(d),d=c.length-1)}w[J]={contactId:d,contactFlags:b,x:n.x,y:n.y}}return w}var d,c=[],f=!1;this.handle=function(n){var x=n.type,e=n.touches,g=n.changedTouches;cancelDefault(n);switch(x){case "touchstart":f=!1;d=n=b(e,25);break;case "touchmove":n=b(g,26);d||(d=b(e||g,25));e=!1;if(0<d.length&&1==n.length){a:{g=d.length;for(x=0;x<g;x++)if(d[x].contactId==n[0].contactId){g=x;break a}g=-1}-1!=g&&d[g].x==n[0].x&&d[g].y==n[0].y&&
(e=!0)}if(e)break;else 0<d.length&&(a.redirectTouches(d),d.length=0);a.redirectTouches(n);f=!0;break;case "touchend":if(f)n=b(g,4);else{a.redirectTouches(d);n=d.length;for(e=0;e<n;e++)d[e].contactFlags=4;n=d}a.redirectTouches(n);c.length=d.length=0;break;case "touchcancel":a.redirectTouches(b(g,34)),c.length=d.length=0}}}function kb(a){function b(a){var c=a[1].screenX-a[0].screenX;a=a[1].screenY-a[0].screenY;return Math.sqrt(c*c+a*a)}function d(a,d){var w=[],z=c(a,u[0].identifier)||c(d,u[0].identifier);
z&&w.push(z);(z=c(a,u[1].identifier)||c(d,u[1].identifier))&&w.push(z);z="";if(2!=w.length)return z;var f=b(w)-b(u);60>Math.abs(f)?80<w[0].screenX-u[0].screenX?z="RIGHT":80<u[0].screenX-w[0].screenX?z="LEFT":80<w[0].screenY-u[0].screenY?z="DOWN":80<u[0].screenY-w[0].screenY&&(z="UP"):z=0>f?"CLOSE":"OPEN";return z}function c(a,c){for(var b=0,d=a.length;b<d;b++)if(a[b].identifier==c)return a[b];return null}function f(a){this.identifier=a.pointerId;this.clientX=a.clientX;this.clientY=a.clientY;this.pageX=
a.pageX;this.pageY=a.pageY;this.screenX=a.screenX;this.screenY=a.screenY}var n=0,x=0,g=0,h=0,w=!1,z=0,Fa=0,J=0,k=0,p=!1,m=!1,r=3,q=!1;t.isIE&&(r*=3);this.delay=!1;var u=[],l=this;this.handlePointer=function(a){if(a.pointerType==a.MSPOINTER_TYPE_MOUSE||"mouse"==a.pointerType)switch(a.type){case "MSPointerDown":case "pointerdown":Va(a);break;case "pointermove":case "MSPointerMove":Wa(a);break;case "pointerup":case "MSPointerUp":Xa(a)}else a.touches=a.changedTouches=[new f(a)],l.handle(a)};this.handle=
function(b){var f=b.type,C=b.touches;var W=b.changedTouches;var t=0,l=0;switch(f){case "touchstart":case "MSPointerDown":case "pointerdown":q=!1;x="touchstart"==f?C.length:x+1;m=!1;h=Date.now();w=1==x&&200>h-g;f=C[0];n=f.identifier;l=Ia(f.clientX,f.clientY,e);z=l.x|0;Fa=l.y|0;p=!0;2!=C.length?q=!1:(t=C[1].screenX-C[0].screenX,q=100<Math.abs(C[1].screenY-C[0].screenY)||350<Math.abs(t));(w||1<x&&!q)&&cancelDefault(b);if(3==x){f=l=t=0;W=9999;for(var v=0,y=C.length;v<y;v++)C[v].screenY>f&&(f=C[v].screenY,
t=v),C[v].screenY<W&&(W=C[v].screenY,l=v);u=[{screenX:C[l].screenX,screenY:C[l].screenY,identifier:C[l].identifier},{screenX:C[t].screenX,screenY:C[t].screenY,identifier:C[t].identifier}]}break;case "pointermove":case "MSPointerMove":if(1<x)break;case "touchmove":if(q)return;f=W[C.length-1];if(!f)break;if(f.identifier!=n&&(f=c(W,n),!f)){cancelDefault(b);return}l=Ia(f.clientX,f.clientY,e);t=l.x|0;l=l.y|0;if(p){if(0===t-z&&0===l-Fa)return;if(Math.abs(t-z)<r&&Math.abs(l-Fa)<r){cancelDefault(b);return}p=
!1;W=Date.now()-h;if((m=88>W)&&!Ha()&&1==x){q=!0;return}a.touchstart({x:z,y:Fa,flick:m,pointes:x,screenX:f.screenX,screenY:f.screenY,moved:!0,target:b.target})}cancelDefault(b);a.touchmove({x:t,y:l,flick:m,pointes:x,moved:!0,screenX:f.screenX,screenY:f.screenY,target:b.target});break;case "MSPointerUp":case "touchend":case "pointerup":if(q)return;if(3==W.length+C.length){a.touchend({x:t,y:l,flick:m,pointes:x,moved:!p,target:b.target,gesture:d(C,W)});x=0;break}else{if(2<x){x=0;break}if(f=c(W,n))C=
Date.now(),l=Ia(f.clientX,f.clientY,e),t=l.x|0,l=l.y|0,m?a.touchend({x:t,y:l,flick:!0,pointes:x,moved:!p,screenX:f.screenX,screenY:f.screenY,target:b.target}):(W=C-h,p?(g=C,w?cancelDefault(b):(J=t,k=l),500>W?(g=C,a.touchstart({x:J,y:k,flick:!1,pointes:x,screenX:f.screenX,screenY:f.screenY,moved:!1,target:b.target}),a.touchend({x:J,y:k,flick:!1,pointes:x,moved:!1,screenX:f.screenX,screenY:f.screenY,target:b.target})):a.longpress({x:t,y:l,flick:!1,pointes:x,moved:!1,screenX:f.screenX,screenY:f.screenY,
target:b.target})):a.touchend({x:t,y:l,flick:!1,pointes:x,moved:!0,screenX:f.screenX,screenY:f.screenY,target:b.target}))}x=0;break;case "MSPointerCancel":case "touchcancel":x=0}w&&cancelDefault(b)}}function Ub(){l(!0,14);l(!1,14)}function jb(a){try{a.select?a.select():t.selectEditable(a)}catch(b){svGlobal.logger.info(b)}}function lb(){function a(){f.focus()}function b(c,b){var d=document.createElement("a");d.href="#";d.accessKey=c;d.onfocus=a;d.style.position="absolute";d.style.width=1;d.style.height=
1;d.style.left=0;d.style.top=b+"px";d.style.pointerEvents="none";return d}var d=g.forceTextArea||t.isIE,c=document.createElement(d?"textarea":"div"),f=this;this.element=c;this.setFontSize=function(a){c.style.fontSize=r.inputFontSize||a};d?(c.style.opacity=0,c.readOnly=P&&t.isMetro?!0:!1):c.contentEditable=!P||(t.isChrome||t.isFirefox)&&(t.isWindows||t.isCrOS)?!0:!1;c.setAttribute("autocomplete",t.isChrome?"new-password":"off");c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");
c.setAttribute("spellcheck","false");c.accessKey="f";c.id="wsinput";c.tabIndex=1;c.style.opacity=0;c.style.resize="none";c.style.position="absolute";c.style.margin="0";c.style.border="none";c.style.outline="none";var n=hi5.tool.getPos(e,!0);c.style.left=n.x+"px";c.style.top=n.y+"px";c.style.paddingRight=0;c.style.paddingBottom=0;c.style.width="10px";c.style.height="10px";c.style.zIndex=88;c.style.cursor="default";c.style.fontWeight="normal";c.style.fonStyle="normal";c.style.overflow="hidden";P&&(c.style.fontSize=
"2em");t.isiOS?(c.addEventListener("focus",function(a){setTimeout(function(){a.target.style.fontSize="0px"},333)},!1),c.addEventListener("blur",function(a){a.target.style.fontSize="1em"},!1)):t.isFirefox?c.style.fontSize=0:d?c.style.fontSize="1px":t.isChrome||(c.style.textIndent="-999em");G=new y(c);G.onbackspace=Ub;n=e.parentNode;n.appendChild(c);t.isIE&&(n.appendChild(b("E"),60),n.appendChild(b("V"),61),n.appendChild(b("A"),62),n.appendChild(b("T"),63),n.appendChild(b("H"),64));var x=c.style.opacity,
h=c.style.textIndent||0;this.resetCSS=function(){_fontSize=c.style.fontSize;x=c.style.opacity;c.style.opacity=0;c.style.textIndent=0};this.restoreCSS=function(){c.style.opacity=x;c.style.textIndent=h};this.getValue=function(){return d?c.value:c.innerHTML};this.setValue=function(a){G&&(G.disableTextInput=!0);d?c.value=a:c.innerHTML=a;G&&(G.disableTextInput=!1)};this.focus=function(){f.setValue(" ");B(c)};this.setContentEditable=function(a){d?(a="true"==a,c.readOnly==a&&(c.readOnly=!a)):c.setAttribute("contenteditable",
a)};this.isIMEMode=!1;this.adjust=function(a){var b=hi5.tool.getPos(e,!0);u.offX=b.x;u.offY=b.y;var d=g.railWin?Math.min(window.innerWidth-b.x,L):L,f=g.railWin?Math.min(window.innerHeight-b.y,M):M;if(P){var n=Math.max(window.pageXOffset+100,b.x);a=Math.max(window.pageYOffset+100,b.y)}else{var x=Math.min(window.innerHeight-b.y,M);n=Math.round(.7*Math.min(window.innerWidth-b.x,L));a=Math.round(x*(a?.99:.7))}d-=n;f-=a;r.disableAdjust&&(a=n=0,d=e.offsetWidth,f=e.offsetHeight);c.style.width=d+"px";c.style.height=
f+"px";c.style.paddingLeft=n+"px";c.style.paddingTop=a+"px";c.style.left=b.x+"px";c.style.top=b.y+"px"};this.remove=function(){G&&(G.release(),G=null);c.parentNode&&c.parentNode.removeChild(c);c=null};this.hide=function(){c.style.visibility="hidden"};this.getElement=function(){return c};this.select=function(){jb(c)}}function ua(a){function b(){r.text||(r.text={});return r.text}function d(a,c,d,f,x){if(n){var w=b();a.fillStyle=w.backgroundFillStyle||"white";a.fillRect(c,d-x+2,f,x);a.fillStyle=w.fillStyle||
"#337788";a.textBaseline="bottom";a.fillText(n,c+3,d-2);a.strokeStyle=k.getColor(n);a.lineWidth=2;a.beginPath();a.moveTo(c,d);a.lineTo(c+f,d);a.stroke()}}function c(){var a=h.getContext("2d"),c=a.getImageData(0,0,h.cursorWidth,h.cursorHeight);if(n){a.font=b().font||"11px Arial";var f=1.2*(a.measureText("W").width+1)+4;h.width=Math.max(h.cursorWidth,a.measureText(n).width+4);h.height=h.cursorHeight+f;d(a,0,h.height-1,h.width,f)}else h.width=h.cursorWidth,h.height=h.cursorHeight;a.putImageData(c,0,
0)}if(!h){var f=e.parentNode,n="",x=0;h=f.querySelector('canvas[name="svImgCursor"]');if(!h){h=document.createElement("canvas");h.setAttribute("name","svImgCursor");h.style.position="absolute";h.style.left=90;h.style.top=90;h.scrX=0;h.scrY=0;h.hotX=0;h.hotY=0;h.width=h.height=32;h.__left=0;h.__top=0;h.__visible=!1;h.style.visibility="hidden";h.style.zIndex=87;var g=null;r.disableClickEffect||(g=document.createElement("div"),g.className="mouse-click-off",g.style.zIndex=89);var k={getColor:function(a){if(k[a])return k[a];
var c=hi5.graphic.colorTable.getNext();return k[a]=c}};h.setCursor=function(c){var w=c.width,f=c.height,x=c.rawData,e=0,g=0,C=h.getContext("2d");n&&(C.font=b().font||"11px Arial",e=C.measureText(n).width,g=1.2*(C.measureText("W").width+1)+4);if(a)if(n){if(a){h.cursorWidth=e;h.cursorHeight=g;h.hotX=c.hotX;h.hotY=-f;h.width=e;h.height=g+4;d(C,0,h.height-1,h.width,g);return}}else h.__setVisible(!1);if(x&&w&&f){var k=w*f,l=0,p=C.createImageData(w,f),m=p.data,q=c.hotX-h.hotX,t=c.hotY-h.hotY;h.cursorWidth=
w;h.cursorHeight=f;h.hotX=c.hotX;h.hotY=c.hotY;h.width=Math.max(w,e+4);h.height=f+g+4;n&&d(C,0,h.height-1,h.width,g);for(e=0;e<k;e++)c=x[e],m[l++]=c&255,m[l++]=c>>8&255,m[l++]=c>>16&255,m[l++]=c>>24&255;C.putImageData(p,0,0,0,0,w,f);h.__left-=q;h.__top-=t;h.style.left=h.__left+"px";h.style.top=h.__top+"px"}};h.__setVisible=function(a){h.__visible=a;h.style.visibility=a?"visible":"hidden"};X&&X.rawData?h.setCursor(X):h.setCursor({rawData:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,
-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-1,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,-16777216,-1,-1,-1,-1,-1,-1,-16777216,-16777216,-16777216,-16777216,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-1,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-16777216,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-16777216,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,-16777216,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-1,-1,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-16777216,-16777216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:32,height:32,hotX:10,
hotY:10});h.moveCursor=function(a,b,d,f,e){var w=a-h.hotX,z=b-h.hotY;h.__left=w;h.__top=z;h.style.left=w+"px";h.style.top=z+"px";if(n!=d||x!=f)n=d,x=f,c();g&&e&32768&&(g.style.left=a-30+"px",g.style.top=b-30+"px",g.className="mouse-click-on",setTimeout(function(){g.className="mouse-click-off"},500))};f.appendChild(h);g&&f.appendChild(g)}}}function Ya(a){if(!1!==r.disableScrollbars){var b=document.body;a?(Za=a,b.style.overflow=a):(Za=L<=window.innerWidth&&M<=window.innerHeight?"hidden":"visible",b.style.overflow=
Za)}}function va(a){var b=e.parentNode;document.body.style.overflow="hidden";R=Y=a?Math.min(window.innerWidth/L,window.innerHeight/M):1;hi5.tool.scale(b,R,R)}function $a(){if(g.toolbar)g.toolbar.removeButton("svCloud");else{var a=hi5.$("svCloud");a&&a.parentNode.removeChild(a)}}function mb(){var a=chrome.app.window.current();a&&a.fullscreen()}function Vb(){ga&&(ga.release(),ga=null);if(document){if(q){var a=q.element;document.removeEventListener("mousemove",Wa,!1);a.removeEventListener("mousedown",
Va,!1);document.removeEventListener("mouseup",Xa,!1);a.removeEventListener("mouseleave",Ja,!1);a.removeEventListener("mouseenter",Ja,!1);a.removeEventListener("paste",p.onPaste,!1);a.removeEventListener("copy",p.onCopy,!1);a.removeEventListener("cut",p.onCopy,!1);a.removeEventListener("focus",nb,!1);a.removeEventListener("blur",ob,!1)}p&&(document.removeEventListener("paste",p.onPaste,!1),document.removeEventListener("copy",p.onCopy,!1),document.removeEventListener("cut",p.onCopy,!1))}if(window){window.removeEventListener("resize",
pb,!1);window.removeEventListener("beforeunload",qb,!1);window.removeEventListener("unload",Ka,!1);X=null;h&&(h.parentNode&&h.parentNode.removeChild(h),h=null);g&&g.toolbar&&(g.toolbar.setFadable=null,g.toolbar.startFade=null,g.toolbar.style.display="none",hi5.ui.clean(g.toolbar),g.toolbar=null);try{wa&&wa.parentNode&&(wa.parentNode.removeChild(wa),wa=null),q&&(q.remove(),q=null)}catch(b){}}}function ab(a,b){var d=document.getElementById("_tmpEditable");a||(a="div");var c=document.body;d&&d.nodeName!=
a.toUpperCase()&&(c.removeChild(d),d=null);d||(d=document.createElement(a),d.id="_tmpEditable","div"==a&&!1!==b&&(d.contentEditable=!0,t.isIE&&(d.style.textIndent="-999px")),d.style.position="absolute",d.style.zIndex=9999,d.style.left=c.scrollLeft+50+"px",d.style.top=c.scrollTop+50+"px",d.style.width="4px",d.style.height="4px",d.tabIndex=2,d.style.outline="none",d.style.opacity=0,d.style.overflow="hidden",c.appendChild(d));return d}function nb(a){if(!g.focused){xa.clearPDF();g.focused=!0;if(m)m.onfocus(a);
g.focusTime=Date.now();Z&&(S=m.fromSyncedSurface?m.fromSyncedSurface(200):!1,S||(p&&(p.clipData=null),g.onreqpaste||Ua?m.send("8911"):p.read(function(a){a&&!a.equals(p.clipData)?(m.send("8911"),p.clipData=a):m.send("8910")})));m&&(m.checkLockFlags=!0);A.noKeyStuck||A.sendMissKey();A.ctrlDelayed&&(A.ctrlDelayed=!1)}}function qb(a){var b=__svi18n.remoteApp.close;if(!rb&&g.railWin&&g.railWin.isRunning()&&b&&(a||(a=window.event),2!=m.getAppMode()))return g.showMessage(b),a&&(a.returnValue=b),b}function Ka(a){if(g&&
(g.focused=!1,g.onunload))g.onunload()}function sb(){q&&(q.element.oncontextmenu=function(){return!1},t.isIE||(q.element.onselectstart=function(){return!1}))}function pb(a){q&&q.adjust();if(na)va(!0);else if(!(fa&&2500>Date.now()-fa)){var b=t.isWindows&&!t.isMetro;if(!P||b&&!fa||t.isCrOS||t.isChromeApp)m.onresize(a)}}function ob(a){g&&(g.focused=!1,g.blurTime=Date.now())}function Wb(){window.svSurface||(window.svSurface=g);window.addEventListener("resize",pb,!1);if(!ha){var a=!t.isChromeApp;a&&window.addEventListener("beforeunload",
qb,!1);a?window.addEventListener("unload",Ka,!1):chrome.runtime.onSuspend.addListener(Ka);sb();q.element.addEventListener("focus",nb,!1);q.element.addEventListener("blur",ob,!1);t.isChromeApp&&!r.disableMaxFullScn&&chrome.app.window.current().onMaximized.addListener(mb);(a=hi5.$("saveSession"))&&a.addEventListener("change",function(a){m.saveSession({save:a.target.checked})});if(a=hi5.$("reqFullscr"))a.onclick=function(a){g&&g.requestFullscreen(!0)}}}function tb(){if(!ca){var a=hi5.$("touchGesture");
a&&(a.style.display="block");if(a=hi5.$("extKBD"))a.onchange=function(a){g.setExtKeyboard(a.target.checked)};ca=hi5.$("svTouchInput");try{window.parent==window||ca||(ca=window.parent.document.getElementById("svTouchInput"))}catch(b){}ca&&"IMG"!=ca.nodeName&&(a=document.createElement("img"),a.id="svTouchInput",a.src=r.img&&r.img.kbd||"kbd.png",ca.parentNode.replaceChild(a,ca),ca=a)}}function ia(a,b){function d(a,c){var d=document.createElement("span");d.data_path=a;d.className="path";d.innerHTML=c;
d.onclick=function(){ia(this.data_path,b)};return d}function c(a){for(var c=f;c.hasChildNodes();)c.removeChild(c.firstChild);var b=d("/","&nbsp&nbsp&nbsp/");c.appendChild(b);if("/"!=a&&""!==a){a=a.split("/");for(var w="/",z=0,n=a.length;z<n;z++)b=a[z],""!==b&&(w=w+a[z]+"/",b=d(w,b+"/"),c.appendChild(b))}}var f=hi5.$("parentPath");f.currentDir||(f.currentDir="/");"."==a?a=f.currentDir:f.currentDir=a;f.currentDir=a;b?b.visible()?hi5.tool.disableInput(hi5.$("filecontainer")):b.onopen=function(){hi5.tool.disableInput(hi5.$("filecontainer"))}:
hi5.tool.disableInput();var n=new hi5.DataGrid(hi5.$("filelist"));n.clear();m.getShareFiles(a,function(a){function d(c){c||(c=n.getValue("Name"));var b=a.parent;if(""===b||"/"!=b.charAt(b.length-1))b+="/";if("."==c)return b;if(".."==c){if(1==b.length)return b;var d=b.lastIndexOf("/",b.length-2);if(-1!=d)return b.substring(0,d+1)}return b+c}a.error&&__svi18n.file[a.error]&&g.showMessage(__svi18n.file[a.error]);var f=new hi5.DataTable(a);n.dataTable=f;var w=hi5.tool.bytesToSize;n.beforeDisplayValue=
function(a,c){var b=f.cols[a].name;return"Date Modified"==b?(new Date(c)).toLocaleString():"Size"==b?w(c):"Type"==b&&"folder"==c?__svi18n.file.folder:"Name"==b?decodeURIComponent(c):c};n.onrowclick=function(c){var w=n.getValue("Name"),f=n.getValue("Type"),w=d(w);c=c.target.name;"delete"==c?(H.removeFile(w),ia(a.parent,b)):"folder"==f?ia(w,b):("view"==c&&(w+="&action=view"),c&&m.getFile(w))};n.beforeAppendRow=function(a){var c;if("folder"==f.getValue(f.getColNo("Type"))){if(c=a.querySelector('img[name="download"]'))c.style.visibility=
"hidden"}else{c=n.getValue("Name");var b=d(c),b="application/octet-stream:"+c+":"+m.getFileLink(b);a.addEventListener("dragstart",function(a){a.dataTransfer.setData("DownloadURL",b)},!1);if(10<c.length&&".uploading"==c.substring(c.length-10)){if(c=a.querySelector('img[name="download"]'))c.style.visibility="hidden";if(c=a.querySelector('img[name="view"]'))c.style.visibility="hidden"}}};n.open();c(a.parent);var z=document.getElementById("__diskSpace");z&&(z.innerHTML=hi5.tool.bytesToSize(a.freeSpace)+
"/"+hi5.tool.bytesToSize(a.totalSpace));b&&(b.__position="\\\\tsclient\\"+a.name+a.parent.replace(RegExp("/","g"),"\\"),b.__workdir=a.parent);hi5.tool.enableInput()})}function ub(a){H&&(a&&cancelDefault(a),a=hi5.$("filecontainer"),T=new hi5.ui.Lightbox(a),ia(".",T),T.show(),T.onclose=function(){hi5.tool.enableInput();g.focus()},(a=document.getElementById("__sv_folder__"))&&H.mkdirs&&(a.onclick=function(){var a=document.getElementById("__sv_folder_name_");a&&a.value&&(H.mkdirs(a.value),ia(".",T),a.value=
"")}),a=document.getElementById("__sv_position__"))&&(a.onclick=function(){m.setWorkDir&&m.setWorkDir(T.__position,T.__workdir);T.dismiss()})}function vb(){var a=k.toolbar;if(a){for(var b=a.childNodes,d=!1,c=0,f=b.length;c<f;c++)if(1==b[c].nodeType&&-1==["svTouchInput","svCloud","svInfo"].indexOf(b[c].id)){d=!0;break}if(b=hi5.$("appinfo"))b.className="h5-form";if(g.showToolbar||P||H||b||d){a.style.left=.45*window.innerWidth+"px";if(d=null===g.toolbar)g.toolbar=new hi5.Toolbar(a,r.toolbar.draggable,
r.img.handle||"handle.png");P||(a=hi5.$("svTouchInput"))&&a.parentNode.removeChild(a);if(a=g.toolbar.getButton("svCloud"))H?(a.style.display="",a.onclick=ub):a.style.display="none";new hi5.Fadable(g.toolbar,r.toolbar.fadeDelay||5E3,q.element,"inline-block");a=r.toolbar.fadable;g.toolbar.setFadable(a);a&&(g.toolbar.style.display="none");if(a=g.toolbar.getButton("svInfo"))b?(a.style.display="",d&&(a.onclick=function(a){cancelDefault(a);g.showConnectonInfo()})):a.style.display="none";if(g.onloadtoolbar)g.onloadtoolbar(g.toolbar)}}}
function wb(a){H.addFiles(a.target.files,!1);a=hi5.$("uploadfile");var b=a.cloneNode(!0);a.parentNode.replaceChild(b,a);b.addEventListener("change",wb,!1)}function Xb(){var a=q.element;da&&da.release();da=new svGlobal.util.MapDisk(a,H,!0);hi5.$("filecontainer")&&(La=new svGlobal.util.MapDisk(hi5.$("filecontainer"),H,!1),hi5.$("uploadfile").addEventListener("change",wb,!1))}function Ja(a){h&&h.__setVisible(!1)}function xb(a){var b;if(E){if(a-bb>yb)if(u.isMultiMon){if(b=ya(u.left,u.top,u.right,u.bottom))E.putImageData(b.imgData,
b.left-u.left,b.top-u.top,0,0,b.width,b.height),bb=a}else if(b=ya(0,0,u.right,u.bottom))E.putImageData(b.imgData,b.left,b.top,0,0,b.width,b.height),bb=a;Ma=requestAnimationFrame(xb)}}function zb(a,b,d,c){h||ua(r.cursorNameOnly);h.__visible||h.__setVisible(!0);a=h.scrX+a;b=h.scrY+b;0>a?a=0:a>L&&(a=L-1);0>b?b=0:b>M&&(b=M-1);h.scrX=a;h.scrY=b;var f=a-h.hotX,n=b-h.hotY;t.isIE&&(f=f/R|0,n=n/Y|0);h.style.left=f+u.offX+"px";h.style.top=n+u.offY+"px";N&&!d&&m.sendInput("82"+a+"\t"+b);u.x=a;u.y=b;c&&(d=h.getBoundingClientRect(),
3>d.top?window.scrollBy(0,-20):3>d.left?window.scrollBy(-20,0):d.bottom>window.innerHeight?window.scrollBy(0,20):d.right>window.innerWidth&&window.scrollBy(20,0))}function oa(a,b,d){a=a/R|0;b=b/Y|0;g.moveCursor(a,b,d)}function Ta(a){q?q.setContentEditable(a?"true":"false"):document.getElementById("wsinput")&&input.setAttribute("contenteditable",a?"true":"false");fa=a?1:0;O&&O.setVisibility(a);if(g.toolbar){var b=g.toolbar.getButton("svTouchInput");b&&(b.className=a?"h5-img-btn-on":"h5-img-btn")}}
function cb(){(ra=!ra)&&q&&q.adjust();Ta(ra);q&&(q.element.blur(),q.element.focus())}function db(a,b,d,c){switch(a){case "touchstart":eb=!1;0===h.scrX&&0===h.scrY&&oa(b-50,d-50);c&&(g.beforemousedown&&g.beforemousedown(h.scrX,h.scrY,0),m.sendInput("80"+h.scrX+"\t"+h.scrY+"\t0"));break;case "touchmove":c=b-Na;a=d-pa;if(0===c&&0===a)return;var f=5>Math.abs(Ab)&&5>Math.abs(Bb)&&(7<Math.abs(c)||7<Math.abs(a));f||(zb(c,a,!1,!0),eb=!0);Ab=c;Bb=a;break;case "touchend":if(a=!eb&&!c)g.beforemousedown&&g.beforemousedown(h.scrX,
h.scrY,0),m.sendInput("80"+h.scrX+"\t"+h.scrY+"\t0");if(a||c)m.sendInput("81"+h.scrX+"\t"+h.scrY+"\t0"),g.aftermouseup&&g.aftermouseup(h.scrX,h.scrY,0)}Na=b;pa=d}function Yb(a){N&&ka&&(a.touches||a.changedTouches?ka.handle(a):ka.handlePointer(a))}function Zb(a){if(!N)return!1;if("false"==q.element.contentEditable&&(t.isiOS||t.isAndroid))return Cb(a);a.stopPropagation();A.check(a);var b=I.getKeyCode(a),d="keydown"==a.type;if(Db(a,b,d))return cancelDefault(a);17!=b||d||(la=!1,Oa&&A.preKey.down&&aa(!1,
A.preKey.code,I.getScancodeByKeyCode(A.preKey.code)));var c=I.getScancode(a),f=I.isPrintableScancode(c,a);3==a.location&&(f=89==c?!0:!1);if(!f){A.afterComposition&&d&&(A.afterComposition=!1);if(A.onComposition||A.afterComposition&&!d)return!0;A["continue"](d,c,!0)&&l(d,c);if(17==b||(Q||a.metaKey)&&(86==b||67==b||88==b))return d&&(17==b&&sa&&q&&ma&&(a.target==q.element?(q.setValue("Copying... Please try again"),q.select()):(U.setValue("Copying... Please try again"),U.select())),67==b||88==b)&&(la=
!0),17!=b||d||(la=!1),!0;3==a.location?A.noUnicode=!0:d&&(A.noUnicode=!1);return 9==b&&!1===r.tabCapture?!0:cancelDefault(a)}(f=A.isAltGr(d))?ja=Q=!1:A.noUnicode&&(A.noUnicode=!1);f=!f&&(a.ctrlKey||a.altKey||a.metaKey);if(a.altKey&&f&&70<c&&83>c&&74!=c&&78!=c){if(56==A.preScancode.code||184==A.preScancode.code)l(!0,1),l(!1,1);f=!1}if(f)return(86!=b||!a.ctrlKey&&!a.metaKey||a.ctrlKey&&a.altKey||!Z)&&aa(d,b,I.getScancode(a)),d&&(Pa=b),17==b||(a.ctrlKey||a.metaKey)&&(86==b||67==b||88==b)?(!d||67!=b&&
88!=b||(la=!0),!0):a.altKey&&!a.ctrlKey||a.ctrlKey&&!a.altKey||a.metaKey?cancelDefault(a):!0;if(!(b!=Pa||d||a.ctrlKey&&a.altKey))return aa(!1,b,I.getScancode(a)),Pa=0,cancelDefault(a);Pa=0;return!0}function $b(a){A.onComposition="compositionend"!=a.type;A.afterComposition=!A.onComposition}function Db(a,b,d){switch(b){case 8:case 35:if(!Q&&!a.metaKey||!a.altKey||r.disableShortcuts||3==a.location)return!1;l(d,211);break;case 33:if(!a.altKey||r.disableShortcuts||3==a.location)return!1;l(d,15);break;
case 34:if(!a.altKey||r.disableShortcuts||3==a.location)return!1;d?(l(!0,42),l(!0,15)):(l(!1,15),l(!1,42));break;case 45:if(!a.altKey||r.disableShortcuts)return!1;l(d,1);break;case 36:if(!a.altKey||r.disableShortcuts||3==a.location)return!1;d?(l(!1,56),l(!0,29),l(!0,1)):(l(!1,1),l(!1,29));break;default:return!1}return!0}function Cb(a){if(!N)return!1;A.check(a);var b=I.getKeyCode(a),d="keydown"==a.type,c=I.getScancode(a);if(Db(a,b,d))return cancelDefault(a);var f=86==b&&(Eb&&!d||(a.ctrlKey||a.metaKey)&&
!(a.ctrlKey&&a.altKey))&&Z;if(0<c)if(f)Qa&&d&&Qa.sendCtrlVLater();else if(A["continue"](d,c,!1)){if(44==b){d||(Q||a.shiftKey?(l(!0,183),l(!1,183)):(l(!0,170),l(!0,183),l(!1,183),l(!1,170)));var n=!0}else n=!1;if(n)return cancelDefault(a);l(d,c)}17!=b&&(Eb=f);return 17==b||(Q||a.metaKey)&&(86==b||67==b||88==b)?(d&&(17==b&&sa&&q&&ma&&(q.setValue("Copying... Please try again"),q.select()),67==b||88==b)&&(la=!0),17!=b||d||(la=!1),!0):144==b||16==b||9==b&&!1===r.tabCapture?!1:cancelDefault(a)}function ac(a){if(N)if(A.noUnicode)A.noUnicode=
!1;else if(a=a.data,"`\t`"!=a){var b=Q||ja;b&&(a=a.toLowerCase());a=a.replace(/\u00a0/g," ");if(g.onunicode){var d=g.onunicode(a);d&&(b=d.ctrl||d.alt)}if(r.scancode&&r.scancode[a])if(a=r.scancode[a],"number"==typeof a)ea(!0,a),ea(!1,a);else for(b=0,d=a.length;b<d;b++)ea(a[b].down,a[b].key);else m.sendInput("86"+a+"\t"+(b||Fb?1:0));O&&O.resetModifier()}}function Gb(a,b){var d=a?a.getData(b):null;!d&&a&&(d=a.getData(a.types[0]));if(d&&"text/plain"==b){for(var c=0,f="",n=d.length;c<n&&(f=d.charAt(c),
"\r"==f||"\n"==f);c++);c&&(d=d.substring(c))}if(d)return m.send("881"+b+"\t"+d),a.sent=Date.now(),!0;if(g.onreqpaste)return g.onreqpaste(b,function(a){m.send("881"+b+"\t"+a)},function(){m.send("881ERROR\t")}),!0;m.send("881"+b+"\t");return!1}function Ra(){m.writeKeyComb("ctrl+v",20)}function bc(a){var b=0===a.types.length||a.equals(p.clipData),d=b?"":a.types.join(","),c=!0;if(!b){-1!=d.indexOf("text/html")&&-1==d.indexOf("text/richtext")&&(d+=",text/richtext");var f=a.getData("text/plain"),f=f?f.hashCode():
0;m.send("880"+d+"\t"+f);p.clipData=a}g.onclipdata&&(c=!g.onclipdata(a,b));c&&setTimeout(Ra,500)}function ea(a,b){if(58!=b||!G.unicode){if(g.onscancode){var d=g.onscancode(a,b);if(d){for(var c=0,f=d.length;c<f;c++)m.sendInput("84"+(d[c].down?0:49152)+"\t"+d[c].key);return}}m.sendInput("84"+(a?0:49152)+"\t"+b);A.preScancode.code=b;A.preScancode.down=a}}function l(a,b){if(N){switch(b){case 221:if(a&&!r.disableKbdSync){ea(!0,221);ea(!1,221);return}break;case 58:if(a){if(Oa&&!r.disableKbdSync){ea(!0,
58);ea(!1,58);return}m.localLockFlags^=4}break;case 69:a&&(m.localLockFlags^=2);break;case 70:a&&(m.localLockFlags^=1)}!A.isKeyDownSent(a,b)&&999<Date.now()-g.focusTime&&ea(!0,b);ea(a,b)}}function aa(a,b,d){if(N){var c="8B"+(a?0:49152)+"\t"+b;d&&(c+="\t"+d);A.ctrlDelayed&&(A.ctrlDelayed=!1,l(!0,29));m.sendInput(c);A.preKey.code=b;A.preKey.down=a}}function za(a,b){A.ctrlDelayed&&(A.ctrlDelayed=!1,l(!0,29));m.sendInput(a+b)}function Aa(a,b,d,c,f){if(!N)return!1;B(q.element);c||(c=R);f||(f=Y);for(var n=
0;5>n;n++)u.mouseDown[n]&&(za("81",u.x+"\t"+u.y+"\t"+n),u.mouseDown[n]=!1);u.mouseDown[d]=!0;a=(a/c|0)+u.left;b=(b/f|0)+u.top;g.beforemousedown&&g.beforemousedown(a,b,d);u.x=a;u.y=b;za("80",a+"\t"+b+"\t"+d)}function Va(a){Q||a.shiftKey||a.metaKey||a.altKey||A.sendMissKey();var b=Ga(a);Aa(b.x,b.y,a.button);return Hb?!0:cancelDefault(a)}function Ib(a,b,d,c){d||(d=R);c||(c=Y);a=(a/d|0)+u.left;b=(b/c|0)+u.top;0>a&&(a=0);0>b&&(b=0);if(g.onmousemove)g.onmousemove(a,b);u.x=a;u.y=b;za("82",a+"\t"+b)}function Wa(a){if(!Jb||
!q||a.target!=q.element&&!u.mouseDown[0])return!1;var b=Ga(a,q.element);!Ba||!t.isAndroid&&!t.isiOS&&X&&X.system?h&&h.__visible&&h.__setVisible(!1):oa(b.x,b.y,!0);Ib(b.x,b.y);return cancelDefault(a)}function Ca(a,b,d,c,f){c||(c=R);f||(f=Y);u.mouseDown[d]=!1;a=(a/c|0)+u.left;b=(b/f|0)+u.top;0>a&&(a=0);0>b&&(b=0);za("81",a+"\t"+b+"\t"+d);g.aftermouseup&&g.aftermouseup(a,b,d);t.isChrome&&p&&"denied"==p.clipboardWrite&&p.waitForCopyContent();m.resumeAudio&&(m.resumeAudio(),m.resumeAudio=null)}function Xa(a){if(!N)return!1;
var b=Ga(a,q.element);Ca(b.x,b.y,a.button);return Hb?!0:cancelDefault(a)}function Kb(a,b,d,c,f){c||(c=R);f||(f=Y);a=(a/c|0)+u.left;b=(b/f|0)+u.top;g.onmousewheel&&g.onmousewheel(a,b,d)||za("83",a+"\t"+b+"\t"+d)}function cc(a,b){if(!N)return!1;for(var d=Math.abs(a),c=0>a?1:0,f=0;f<d;f++)Kb(b.x,b.y,c);return!1}function dc(a){if(a.none)return"none";if(a.system)return a.system;if(Ba)return"none";var b;if(!(b=a.url)){var d=a.rawData;b=a.width;var c=a.height,f=document.createElement("canvas"),n=f.getContext("2d"),
e=n.createImageData(b,c),g=e.data,h=b*c,w=window.devicePixelRatio||1,z=0,k=0;f.width=b;for(f.height=c;z<h;z++){var J=d[z];g[k++]=J&255;g[k++]=J>>8&255;g[k++]=J>>16&255;g[k++]=J>>24&255}n.putImageData(e,0,0,0,0,b,c);1==w?b=f.toDataURL():f.toDataURLHD?b=f.toDataURLHD():(d=document.createElement("canvas"),n=d.getContext("2d"),d.width=b*w|0,d.height=c*w|0,n.scale(w,w),n.drawImage(f,0,0),b=d.toDataURL())}return"url("+b+") "+a.hotX+" "+a.hotY+", default"}function Lb(){document.fullscreenElement?navigator.keyboard&&
navigator.keyboard.lock():navigator.keyboard&&navigator.keyboard.unlock()}e||(e=hi5.$("remotectrl"));k||(k={});k.pcKey||(k.pcKey=hi5.$("pc_key"));k.toolbar||(k.toolbar=hi5.$("svToolbar"));k.frmLogin||(k.frmLogin=hi5.$("frmLogin"));var Da=k.notifications||hi5.notifications;if(window.svSurface&&svSurface.canvas==e&&svSurface.railWin)return svSurface.railWin.mainWin=null,window.svSurface;var t=hi5.browser,P=t.isTouch,Ea=t.getChildByNameOrId,m=null,na=!1,R=1,Y=1,Sa=0,Mb=0,fb=!1;e.style.outline="none";
var L=0,M=0,E=e.getContext("2d",{alpha:!1}),G=null,U=null,Q=!1,ja=!1,qa=!1,rb=!1,S=!1,H=null,Z=!0,ma=!1,gb=!1,la=!1,Eb=!1,Nb=0;this.context=E;this.fileProgress=null;this.focusTime=this.blurTime=0;var g=this,N=!0,ba=!1,ha=!1,Jb=!0,wa=null,Ob=null,T=null,h=null,X=null,ka=null,ca=null,fa=0,Na=-1,pa=-1,Ab=0,Bb=0,eb=!1,Za=null,u={x:0,y:0,offX:0,offY:0,left:0,top:0,right:0,bottom:0,primary:!1,isMultiMon:!1,btnDown:-1,mouseDown:[]},da=null,La=null,bb=0,ya,hb=!1,Pb=0,Ma=0,ra=!1,ga=null;this._cr=[82,69,77,
79,84,69,83,80,65,82,75];window.svSurface=this;hi5.appcfg||(hi5.appcfg={img:{},toolbar:{fadable:!0},displayMsg:!0});var r=hi5.appcfg;void 0==r.toolbar.draggable&&(r.toolbar.draggable=!0);var Hb=window.clipboardData?!0:!!r.defaultEvent,Ba=t.isIE&&!r.disableCursor,Ua=t.isChromeApp||t.isIE||1==r.directClipAccess,Fb=!!r.forceScancode;this.setConfig=function(a){r=a};this.railWin=this.toolbar=null;this.showToolbar=this.focused=!1;this.canvas=e;this.forceTextArea=this.alwaysPaste=!1;"visible"in r.toolbar&&
(this.showToolbar=r.toolbar.visible);var Ga=t.getMousePos,Ia=t.calMousePos;this.getWindow=function(){return window};this.setImageCursor=function(a){Ba=a};this.setMonitor=function(a,b,d,c){u.left=a;u.top=b;u.right=d;u.bottom=c;u.primary=0==a&&0==b;0!=d&&0!=c&&(u.isMultiMon=!1,g.setSize(d-a+1,c-b+1),u.isMultiMon=!0,Ya("hidden"),r.disableScrollbars=!0)};this.configMonitor=function(){var a=window.screenX&-4,b=window.screenY&-4;g.setMonitor(a,b,(screen.width&-4)+a-1,(screen.height&-4)+b-1)};this.isClipSynced=
function(a){if(!S)return!1;var b=Date.now()-g.blurTime;if(a&&b>a)return!1;svGlobal.logger.info("clip synced in "+b);return!0};this.getScale=function(){return{x:R,y:Y}};var K=null,O=null,sa=!t.isChromeApp&&!r.copyDialog&&!r.directClipAccess&&!t.isIE;this.getThumbnail=function(a){a=a||64;K||(K=document.createElement("canvas"));var b=Math.floor(e.height/e.width*a);K.width!=a&&(K.width=a);K.height!=b&&(K.height=b);K.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,a,b);return K.toDataURL()};this.getThumbnailBlob=
function(a,b){a=a||64;var d=Math.floor(e.height/e.width*a);K||(K=window.OffscreenCanvas?new OffscreenCanvas(a,d):document.createElement("canvas"));K.width!=a&&(K.width=a);K.height!=d&&(K.height=d);K.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,a,d);return K.toBlob(b)};this.initChat=function(a){var b=document.getElementById("chatWindow");hi5.Draggable(b);return new hi5.Chat(b,a)};this.equals=function(a){return e==a.canvas};this.getFreeSpace=function(){var a=hi5.tool.getPos(e),b=window.innerWidth-
a.x,a=v(window.innerHeight)-a.y;return{width:b,height:a}};var I=new function(){var a=1033,b=t.isFirefox,d=t.isMacOS||t.isiOS,c=[0],f=null;c[3]=197;c[8]=14;c[9]=15;c[12]=76;c[13]=28;c[16]=42;c[17]=29;c[18]=56;c[19]=197;c[20]=58;c[27]=1;c[32]=57;c[33]=201;c[34]=209;c[35]=207;c[36]=199;c[37]=203;c[38]=200;c[39]=205;c[40]=208;c[44]=55;c[45]=210;c[46]=211;c[48]=11;c[49]=2;c[50]=3;c[51]=4;c[52]=5;c[53]=6;c[54]=7;c[55]=8;c[56]=9;c[57]=10;c[65]=30;c[66]=48;c[67]=46;c[68]=32;c[69]=18;c[70]=33;c[71]=34;c[72]=
35;c[73]=23;c[74]=36;c[75]=37;c[76]=38;c[77]=50;c[78]=49;c[79]=24;c[80]=25;c[81]=16;c[82]=19;c[83]=31;c[84]=20;c[85]=22;c[86]=47;c[87]=17;c[88]=45;c[89]=21;c[90]=44;c[91]=219;c[92]=220;c[93]=221;c[96]=82;c[97]=79;c[98]=80;c[99]=81;c[100]=75;c[101]=76;c[102]=77;c[103]=71;c[104]=72;c[105]=73;c[106]=55;c[107]=78;c[109]=74;c[110]=83;c[111]=181;c[112]=59;c[113]=60;c[114]=61;c[115]=62;c[116]=63;c[117]=64;c[118]=65;c[119]=66;c[120]=67;c[121]=68;c[122]=87;c[123]=88;c[144]=69;c[145]=70;c[154]=183;c[166]=59;
c[167]=60;c[168]=61;c[173]=66;c[174]=67;c[175]=68;c[182]=63;c[183]=62;c[216]=64;c[217]=65;c[186]=39;c[187]=13;c[188]=51;c[189]=12;c[190]=52;c[191]=53;c[192]=41;c[219]=26;c[220]=43;c[221]=27;c[222]=40;c[224]=29;c[225]=184;c[226]=86;c[235]=123;c[255]=121;var n={Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,
Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,NumLock:69,ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,
Numpad3:81,Numpad0:82,NumpadDecimal:83,IntlBackslash:86,F11:87,F12:88,NumpadEqual:89,F13:91,F14:92,F15:93,F16:99,F17:100,F18:101,F19:102,F20:103,F21:104,F22:105,F23:106,F24:107,KanaMode:112,Lang2:113,Lang1:114,IntlRo:115,Convert:121,NonConvert:123,IntlYen:125,NumpadComma:126,Paste:138,MediaTrackPrevious:144,Cut:151,Copy:152,MediaTrackNext:153,NumpadEnter:156,ControlRight:157,VolumeMute:160,AudioVolumeMute:160,LaunchApp2:161,MediaPlayPause:162,MediaStop:164,Eject:172,VolumeDown:174,AudioVolumeDown:174,
VolumeUp:176,AudioVolumeUp:176,BrowserHome:178,NumpadDivide:181,PrintScreen:183,AltRight:184,Help:187,Pause:197,Home:199,ArrowUp:200,PageUp:201,ArrowLeft:203,ArrowRight:205,End:207,ArrowDown:208,PageDown:209,Insert:210,Delete:211,OSLeft:219,MetaLeft:219,OSRight:220,MetaRight:220,ContextMenu:221,Power:222,BrowserSearch:229,BrowserFavorites:230,BrowserRefresh:231,BrowserStop:232,BrowserForward:233,BrowserBack:234,LaunchApp1:235,LaunchMail:236,LaunchMediaPlayer:237};this.isPrintableScancode=function(a,
c){if(95<c.keyCode&&112>c.keyCode)return!0;if(0==a&&c){var b=c["char"]||c.key;if(b&&1==b.length)return b=b.charCodeAt(0),!(31>=b||127==b||128<=b&&159>=b)}return c.altKey&&70<a&&83>a&&74!=a&&78!=a?!0:1<a&&14>a||15<a&&28>a||29<a&&42>a||42<a&&54>a||57==a||86==a||115==a||125==a};var e=function(a){a=a.keyCode;if(b)switch(a){case 173:return 189;case 61:return 187;case 59:return 186;case 224:return 17}return a};this.mapCmdToCtrl=this.converMacCtrl=!0;var g=d?function(a){switch(a){case 91:return I.mapCmdToCtrl?
17:91;case 93:return I.mapCmdToCtrl?17:93;case 17:return I.converMacCtrl?91:17;case 229:return 69}return 0}:null;this.setLayout=function(b){a=b;var d=null;b="K"+b;b in h&&(d=h[b]());null===d&&(d=c);f=d;null!==f&&svGlobal.logger.info("Keyboard layout: "+a)};this.getKeyCode=function(a){var c=0;g&&(c=g(a.keyCode));c||(c=e?e(a):a.keyCode);return c};this.getScancode=function(a){var c=0;if(a.code)c=n[a.code]||0;else{var b=I.getKeyCode(a);switch(b){case 16:c=2==a.location?54:42;break;case 17:c=2==a.location?
157:29;break;case 18:c=2==a.location?184:56;break;case 33:c=3==a.location?73:201;break;case 34:c=3==a.location?81:209;break;case 35:c=3==a.location?79:207;break;case 36:c=3==a.location?71:199;break;case 37:c=3==a.location?75:203;break;case 38:c=3==a.location?72:200;break;case 39:c=3==a.location?77:205;break;case 40:c=3==a.location?80:208;break;case 45:c=3==a.location?82:210;break;case 46:c=3==a.location?83:211;break;default:f&&(c=f[b]||0)}}if(d)switch(c){case 29:this.converMacCtrl&&(c=219);break;
case 157:this.converMacCtrl&&(c=220);break;case 219:this.mapCmdToCtrl&&(c=29);break;case 220:this.mapCmdToCtrl&&(c=157)}return c};this.getScancodeByKeyCode=function(a){return f?f[a]||0:0};this.getCodeTable=function(){return f};this.getLayoutCreator=function(){return h};var h=new function(){this.K3758162961=function(){var a=c.slice(0);a[244]=41;a[243]=41;a[189]=12;a[222]=13;a[220]=125;a[192]=26;a[219]=27;a[187]=39;a[186]=40;a[221]=43;a[188]=51;a[190]=52;a[191]=53;a[226]=115;a[29]=123;a[28]=121;a[240]=
112;a[242]=112;b&&(a[173]=12,a[160]=13,a[64]=26,a[59]=39,a[58]=40,e=function(a){return 220==a.keyCode&&"_"==a.key?226:a.keyCode});return a};this.K1034=this.K66570=this.K2058=this.K1040=this.K66576=function(){var a=c.slice(0);a[220]=41;a[219]=12;a[221]=13;a[186]=26;a[187]=27;a[191]=43;a[192]=39;a[189]=53;a[226]=86;b&&(e=function(a){var c=a.keyCode;a=a.key;switch(c){case 0:if("\u00e8"==a||"\u00e9"==a||"["==a)return 186;if("\u00f2"==a||"\u00e7"==a||"@"==a)return 192;if("\u00e0"==a||"\u00b0"==a||"#"==
a||"\u00f9"==a||"\u00a7"==a)return 222;break;case 60:return 226;case 160:return 221;case 171:return 187;case 173:return 189;case 222:return 219}return c});return a};this.K2057=function(){var a=c.slice(0);a[223]=41;a[222]=43;a[192]=40;a[220]=86;b&&(a[192]=41,a[173]=12,a[61]=13,a[59]=39,a[222]=40,a[163]=43);return a};this.K1031=this.K4106=this.K5130=this.K6154=this.K7178=this.K8202=this.K9226=this.K10250=this.K11274=this.K12298=this.K13322=this.K14346=this.K15370=this.K16395=this.K17418=this.K18442=
this.K19466=this.K20490=this.K99997=this.K66567=this.K2952791047=function(){var a=c.slice(0);a[220]=41;a[219]=12;a[221]=13;a[186]=26;a[187]=27;a[191]=43;a[192]=39;a[189]=53;a[226]=86;a[90]=21;a[89]=44;b?e=function(a){var c=a.keyCode,b=a.key;switch(c){case 60:return 226;case 160:return 220;case 63:return 219;case 192:return 221;case 171:return 187;case 163:return 191;case 173:return 189;case 0:if("\u00f6"==b||"\u00d6"==b&&a.shiftKey)return 192;if("\u00e4"==b||"\u00c4"==b&&a.shiftKey)return 222;if("\u00fc"==
b||"\u00dc"==b&&a.shiftKey)return 186}return c}:hi5.browser.isLinux&&(e=function(a){var c=a.keyCode;a=a.key;switch(c){case 187:if("Dead"==a)return 221;break;case 192:if("Dead"==a||"\u00b0"==a)return 220;break;case 220:return 226}return c});return a};this.K2070=function(){var a=c.slice(0);a[220]=41;a[219]=12;a[221]=13;a[186]=27;a[187]=26;a[191]=43;a[192]=39;a[189]=53;a[226]=86;return a};this.K2060=this.K99998=this.K2067=function(){var a=c.slice(0);a[222]=41;a[219]=12;a[189]=13;a[221]=26;a[186]=27;
a[77]=39;a[192]=40;a[188]=50;a[190]=51;a[191]=52;a[187]=53;a[226]=86;a[65]=16;a[90]=17;a[81]=30;a[87]=44;b&&(e=function(a){var c=a.keyCode,b=a.key;switch(c){case 60:return 226;case 169:return 219;case 173:return 189;case 160:return 221;case 164:return 186;case 165:return 192;case 59:return 190;case 58:return 191;case 61:return 187;case 0:if("\u00b2"==b||"\u00b3"==b&&a.shiftKey)return 222;if("\u00b5"==b||"`\u00b5"==b||"DeadGrave"==b||"\u00a3"==b&&a.shiftKey||("`"==b||"``"==b)&&a.ctrlKey&&a.altKey)return 220}return c});
return a};this.K3084=this.K4105=function(){var a=c.slice(0);a[222]=41;a[192]=40;a[226]=86;b&&(e=function(a){var c=a.keyCode,b=a.key;switch(c){case 0:if("\u00b0"==b||"\u00ac"==b&&a.ctrlKey&&a.altKey)return 222;if("\u00e7"==b||"\u00c7"==b&&a.shiftKey)return 221;if("\u00e0"==b||"DeadGrave"==b||"\u00c0"==b&&a.shiftKey)return 220;if("\u00e8"==b||"\u00c8"==b&&a.shiftKey)return 192;if("\u00e9"==b||"\u00c9"==b&&a.shiftKey)return 191;if("\u00f9"==b||"\u00d9"==b&&a.shiftKey)return 226;if("DeadTilde"==b)return 221;
break;case 173:return 189;case 61:return 187;case 160:return 219;case 59:return 186}return c});return a};this.K1036=function(){var a=c.slice(0);a[222]=41;a[219]=12;a[187]=13;a[221]=26;a[186]=27;a[220]=43;a[77]=39;a[192]=40;a[190]=51;a[191]=52;a[223]=53;a[226]=86;a[65]=16;a[90]=17;a[81]=30;a[87]=44;a[188]=50;b&&(e=function(a){var c=a.keyCode,b=a.key;switch(c){case 0:if("\u00b2"==b)return 222;if("\u00e7"==b||"\u00c7"==b&&a.shiftKey)return 221;if("\u00e0"==b||"\u00c0"==b&&a.shiftKey)return 220;if("\u00e8"==
b||"\u00c8"==b&&a.shiftKey)return 192;if("\u00e9"==b||"\u00c9"==b&&a.shiftKey)return 189;if("\u00f9"==b||"\u00d9"==b&&a.shiftKey)return 226;if("DeadTilde"==b)return 221;break;case 60:return 226;case 169:return 219;case 61:return 187;case 160:return 221;case 164:return 186;case 170:return 220;case 165:return 192;case 59:return 190;case 58:return 191;case 161:return 223}return c});return a};this.K4108=this.K2055=function(){var a=c.slice(0);a[191]=41;a[219]=12;a[221]=13;a[186]=26;a[192]=27;a[223]=43;
a[222]=39;a[220]=40;a[188]=51;a[190]=52;a[189]=53;a[226]=86;a[90]=21;a[89]=44;b&&(e=function(a){var c=a.keyCode,b=a.key;switch(c){case 0:if("\u00a7"==b||"\u00b0"==b&&a.shiftKey)return 191;if("\u00e0"==b||"\u00e4"==b&&a.shiftKey||"{"==b&&a.ctrlKey&&a.altKey)return 220;if("\u00e8"==b||"\u00fc"==b&&a.shiftKey||"["==b&&a.ctrlKey&&a.altKey)return 186;if("\u00e9"==b||"\u00f6"==b&&a.shiftKey)return 222;break;case 222:return 219;case 160:return 221;case 161:return 192;case 164:return 223;case 173:return 189;
case 60:return 226}return c});return a};this.K1044=this.K1083=this.K1030=function(){var a=c.slice(0);a[220]=41;a[187]=12;a[219]=13;a[221]=26;a[186]=27;a[191]=43;a[192]=39;a[222]=40;a[189]=53;a[226]=86;b&&(e=function(a){var c=a.keyCode,b=a.key;switch(c){case 0:if("\u00e5"==b||"\u00c5"==b&&a.shiftKey)return 221;if("\u00f8"==b||"\u00d8"==b&&a.shiftKey||"\u00f6"==b&&a.ctrlKey&&a.altKey)return 192;if("\u00e6"==b||"\u00c6"==b&&a.shiftKey||"\u00e4"==b&&a.ctrlKey&&a.altKey)return 222;break;case 172:return 220;
case 171:return 187;case 220:return 219;case 160:return 186;case 222:return 191;case 173:return 189;case 60:return 226}return c});return a};this.K1039=function(){var a=c.slice(0);a[220]=41;a[187]=12;a[219]=13;a[221]=26;a[186]=27;a[191]=43;a[192]=39;a[222]=40;a[189]=53;a[226]=86;b&&(e=function(a){var c=a.keyCode;a=a.key;switch(c){case 0:if("Dead"==a)return 220;if("\u00f6"==a||"\u00d6"==a||"\\"==a)return 187;if("\u00f0"==a||"\u00d0"==a)return 221;if("\u00e6"==a||"\u00c6"==a)return 192;if("\u00fe"==
a||"\u00de"==a)return 189;break;case 173:return 219;case 222:return"Dead"==a||"'"==a?222:186;case 171:return 191;case 60:return 226}return c});return a};this.K1053=function(){var a=c.slice(0);a[220]=41;a[187]=12;a[219]=13;a[221]=26;a[186]=27;a[191]=43;a[192]=39;a[222]=40;a[189]=53;a[226]=86;b&&(e=function(a){var c=a.keyCode,b=a.key;switch(c){case 0:if("\u00a7"==b||"\u00bd"==b&&a.shiftKey)return 220;if("\u00e5"==b||"\u00c5"==b&&a.shiftKey)return 221;if("\u00f8"==b||"\u00d8"==b&&a.shiftKey||"\u00f6"==
b&&a.ctrlKey&&a.altKey)return 192;if("\u00e4"==b||"\u00c4"==b&&a.shiftKey)return 222;break;case 171:return 187;case 192:return 219;case 160:return 186;case 222:return 191;case 173:return 189;case 60:return 226}return c});return a};this.K1055=function(){var a=c.slice(0);a[220]=52;a[223]=12;a[189]=13;a[191]=51;a[188]=43;a[190]=53;a[226]=86;b&&(e=function(a){var c=a.keyCode,b=a.key;switch(c){case 0:if("\u011f"==b||"\u011e"==b&&a.shiftKey||a.ctrlKey&&a.altKey&&"BracketLeft"==a.code)return 219;if("\u00fc"==
b||"\u00dc"==b&&a.shiftKey||a.ctrlKey&&a.altKey&&"BracketRight"==a.code)return 221;if("\u015f"==b||"\u015e"==b&&a.shiftKey||a.ctrlKey&&a.altKey&&"Semicolon"==a.code)return 186;if("\u00f6"==b||"\u00d6"==b&&a.shiftKey)return 191;if("\u00e7"==b||"\u00c7"==b&&a.shiftKey)return 220;break;case 73:return 222;case 60:return 226;case 173:return 189;case 170:return 223;case 162:return 192}return c});return a};this.K6153=function(){var a=c.slice(0);a[223]=41;a[189]=12;a[187]=13;a[219]=26;a[221]=27;a[186]=39;
a[192]=40;a[222]=43;a[220]=86;a[188]=51;a[190]=52;a[191]=53;return a}}};this.getKeyboardMgr=function(){return I};var p=new function(){function a(a,c){var b=p.parseClipData(c);if(!(r.copyTextOnly&&"text/plain"!=b.type||p.processFileGroup(b))){var d=b.value.startsWith("<img data-sv-img");if(d&&"denied"!=p.clipboardWrite&&navigator.clipboard.write)a.preventDefault(),setTimeout(function(){p.copyImageToClipboard(b.value)},20);else{if("text/plain"!=b.type&&!d){var e=hi5.browser.html2text(b.value);e&&a.clipboardData.setData("text/plain",
e)}d&&p.processImgCopy(b.value);a.clipboardData.setData(b.type,b.value);a.preventDefault()}}}function b(){p&&(p.copyContent&&(p.copyToClipboard(p.copyContent.type,p.copyContent.value),p.copyContent=null),p.waitingCopyContent=!1)}this.hasCopyCmd=document.queryCommandSupported("copy");this.hasPasteCmd=document.queryCommandSupported("paste");this.pasteEventFired=!1;this.clipboardWrite=this.clipboardRead="denied";this.init=function(){navigator.permissions&&(navigator.permissions.query({name:"clipboard-read"}).then(function(a){p&&
(p.clipboardRead=a.state,a.onchange=function(){p.clipboardRead=a.state;"granted"==p.clipboardRead&&F();svGlobal.logger.info("clipboard-read change: "+p.clipboardRead)},"granted"==p.clipboardRead&&F(),svGlobal.logger.info("clipboard-read: "+p.clipboardRead))})["catch"](function(a){svGlobal.logger.info(a)}),navigator.permissions.query({name:"clipboard-write"}).then(function(a){p&&(p.clipboardWrite=a.state,a.onchange=function(){p.clipboardWrite=a.state;svGlobal.logger.info("clipboard-write change: "+
p.clipboardWrite)},svGlobal.logger.info("clipboard-write: "+p.clipboardWrite))})["catch"](function(a){svGlobal.logger.info(a)}))};this.release=function(){p.clipData=null};this.clipData=null;this.read=function(a){var c=new D;if("denied"!=p.clipboardRead)navigator.clipboard.read?navigator.clipboard.read().then(function(b){for(var d=b.length,f=0,e=0;e<d;e++){var g=b[e].types[0];b[e].getType(g).then(function(b){"text/plain"==g||"text/html"==g||"text/rtf"==g?hi5.browser.blobToText(b,function(b){c.setData(g,
b);f++;f==d&&a(c)}):"image/png"==g&&hi5.browser.blobToArray(b,function(b){b=hi5.Base64.enc(b);c.setData("image/png",b);f++;f==d&&a(c)})})["catch"](function(b){a(c);svGlobal.logger.warn(b.message)})}})["catch"](function(a){svGlobal.logger.warn(a.message)}):navigator.clipboard.readText&&navigator.clipboard.readText().then(function(b){c.setData("text/plain",b);a(c)})["catch"](function(b){a(null)});else if(window.clipboardData)c.setData("text/plain",window.clipboardData.getData("Text")),a(c);else return a(null),
!1;return!0};this.paste=function(a,b){var c=new D,d=0,e=null,g=window.clipboardData||b.clipboardData,h=window.clipboardData?g.getData("Text"):g.getData("text/plain"),k="",l="",k=0;g.types&&(l=g.getData("text/html"));l&&!h&&(h=hi5.browser.html2text(l));h&&c.setData("text/plain",h);if(r.pasteTextOnly)b.preventDefault(),a(c);else{var m=g.items;if(m)for(d=0,k=m.length;d<k;d++){if("image/png"==m[d].type){e=m[d].getAsFile();break}}else if(g.files)for(m=g.files,d=0,k=m.length;d<k;d++)if(-1!=m[d].type.indexOf("image/png")){e=
m[d];break}if(e)b.preventDefault(),hi5.browser.blobToArray(e,function(b){b=hi5.Base64.enc(b);c.setData("image/png",b);a(c)});else if(h){if(g.types){e=g.types.indexOf?-1!=g.types.indexOf("text/rtf"):g.types.contains("text/rtf");if(k=g.getData("text/rtf"))0==k.charCodeAt(k.length-1)&&(k=k.substring(0,k.length-1)),c.setData("text/richtext",k);l&&(d=l.lastIndexOf("</html>"),d+7<l.length&&(l=l.substring(0,d+7)),c.setData("text/html",l));if(!e||k||l){b.preventDefault();a(c);return}}if("TEXTAREA"==b.target.nodeName)b.preventDefault(),
document.queryCommandSupported("paste")&&(c=p.getClipContent(c)),a(c);else{G&&(G.disableTextInput=!0);U&&(U.disableTextInput=!0);b.target.innerHTML="";var q=b.target.style.opacity;b.target.style.opacity=0;setTimeout(function(){var d=b.target.innerHTML;d&&d!=h&&(c.setData("text/html","<body>"+d+"</body>"),G?G.init():b.target.innerHTML="");a(c);b.target.style.opacity=q;G&&(G.disableTextInput=!1);U&&(U.disableTextInput=!1)},300)}}else b.preventDefault(),a(c)}};this.onCopy=function(b){if(b.target==q.element){N&&
Z||cancelDefault(b);var c="copy"==b.type?46:45,d="copy"==b.type?67:88;la||(l(!0,29),aa(!0,d,c),aa(!1,d,c),l(!1,29));t.isMacOS&&aa(!1,d,c);Z&&!Ua&&ma&&(999<Date.now()-Nb&&(c=m.getClipData(b.type),a(b,c),p.clipData=null,S=!0),Nb=Date.now(),svGlobal.logger.info("clip synced: true"))}};this.onPaste=function(a){if(a.target==q.element){Qa&&Qa.cancelCtrlV();if(!N||!Z)return cancelDefault(a);gb||(S=!0);if(!g.alwaysPaste&&S){var b=!0;g.onclipdata&&(b=!g.onclipdata(p.clipData,!0));b&&setTimeout(Ra,300);svGlobal.logger.info("Ctrl+V only");
return cancelDefault(a)}S=!0;p.paste(bc,a);return!0}};this.parseClipData=function(a){var b=a.indexOf(";"),d=a.substring(0,b);a=a.substring(b+1);return{type:d,value:a}};this.getClipContent=function(a){if(!document.queryCommandSupported("paste"))return a;var b=ab(r.pasteTextOnly?"textarea":"div");b.focus();try{if(document.queryCommandEnabled("paste")&&document.execCommand("paste"))return a||(a=new D),r.pasteTextOnly||a.setData("text/html","<body>"+b.innerHTML+"</body>"),-1==a.types.indexOf("text/plain")&&
a.setData("text/plain",r.pasteTextOnly?b.value:b.innerText||hi5.browser.html2text(b.innerHTML)),a}finally{g.focused=!0,b.parentNode.removeChild(b),q&&q.focus()}return a};this.accessClip=function(a,b){function c(b){a(null)}if("denied"!=p.clipboardRead&&navigator.clipboard.readText){if("text/plain"==b)return navigator.clipboard.readText().then(function(b){var c=new D;c.setData("text/plain",b);a(c)})["catch"](c),!0;if(navigator.clipboard.read){if("image/png"==b)return navigator.clipboard.read({type:"image/png"}).then(function(b){b.length?
b[0].getType("image/png").then(function(b){hi5.browser.blobToArray(b,function(b){b=hi5.Base64.enc(b);var c=new D;c.setData("image/png",b);a(c)})}):a(null)})["catch"](c),!0;if("text/html"==b)return navigator.clipboard.read({type:"text/html"}).then(function(b){b.length?b[0].getType("text/html").then(function(b){b.text().then(function(b){var c=new D;c.setData("txt/html",b);a(c)})["catch"](c)})["catch"](c):a(null)})["catch"](c),!0}}document.queryCommandSupported("paste")||a(null);var d=ab(r.pasteTextOnly?
"textarea":"div");d.focus();d.addEventListener("paste",function(b){b.stopPropagation();p.pasteEventFired=!0;p.paste(function(b){g.focused=!0;d.parentNode&&d.parentNode.removeChild(d);q&&q.focus();a(b)},b)},!1);p.pasteEventFired=!1;if(document.queryCommandEnabled("paste")&&document.execCommand("paste")&&p.pasteEventFired)return!0;setTimeout(function(){S=!0;p.pasteEventFired||a(null);g.focused=!0;d.parentNode&&d.parentNode.removeChild(d);q&&q.focus()},55);return!1};this.getContent=function(){var a=
p.getClipContent();q&&q.element.removeEventListener("click",p.getContent,!1);return a&&!a.equals(p.clipData)?(p.clipData=a,m.send("880text/plain,text/html\t0"),!0):!1};this.startPasteCmd=function(){q&&document.queryCommandSupported("paste")&&q.element.addEventListener("click",p.getContent)};this.waitingCopyContent=!1;this.copyContent=null;this.waitForCopyContent=function(){p.waitingCopyContent=!0;setTimeout(b,700)};this.prePaste=function(){S||!document.queryCommandEnabled("paste")&&!window.clipboardData||
p.accessClip(function(a){if(a){var b=0===a.types.length||a.equals(p.clipData),d=b?"":a.types.join(",");b||(-1!=d.indexOf("text/html")&&-1==d.indexOf("text/richtext")&&(d+=",text/richtext"),b=(b=a.getData("text/plain"))?b.hashCode():0,m.send("880"+d+"\t"+b),p.clipData=a,S=!0)}})};this.copyImageToClipboard=function(a){var b=a.indexOf('src="')+5,d=a.indexOf('"',b);a=a.substring(b,d);fetch(a).then(function(a){if(a.ok)return a.blob();throw Error("Nework error, access "+stc);}).then(function(a){a=new ClipboardItem({"image/png":a});
navigator.clipboard.write([a])})["catch"](function(a){svGlobal.logger.warn(a)})};this.copyToClipboard=function(a,b){var c="text/plain"==a?"textarea":"div",d=!1,e=b.startsWith("<img data-sv-img"),h="text/plain"==a;"text/html"!=a||-1<b.search(/<.*(font|color|img|table|style|class).*>/gmi)||(a="text/plain",h=!0);h&&(window.clipboardData?(window.clipboardData.setData("Text",b),d=!0):"denied"!=p.clipboardWrite&&(navigator.clipboard.writeText(b)["catch"](function(a){svGlobal.logger.warn(a)}),d=!0));if(!h||
!d)if((e||"text/html"==a)&&"denied"!=p.clipboardWrite&&navigator.clipboard.write)e?p.copyImageToClipboard(b):(d=new Blob([b],{type:"text/html"}),c=new Blob([hi5.browser.html2text(b)],{type:"text/plain"}),d=new ClipboardItem({"text/html":d,"text/plain":c}),navigator.clipboard.write([d])),d=!0;else{h=ab(c,!1);if("div"==c)if(h.innerHTML=b,h.focus(),e&&document.body.createControlRange){var k=document.body.createControlRange();k.add(h.childNodes[0]);e=!1}else t.selectEditable(h);else h.value=b,h.focus(),
h.select();try{d=k?k.execCommand("Copy"):document.execCommand("copy",!1,null)}catch(w){}finally{g.focused=!0,h.parentNode.removeChild(h),q&&q.focus()}}S=!0;if(!d&&g.beforeCopyDialog&&g.beforeCopyDialog(b,__svi18n.info.imgCopyDownload,a))return!0;e=e&&!d&&p.processImgCopy(b);d||!e&&__svi18n.info.userCopy&&g.showMessage({title:__svi18n.info.userCopy,msg:b,timeout:9999,select:!0,format:a});return d};this.processFileGroup=function(a){if("application/x-filegroup"==a.type){a=a.value.split("\r\n");var b=
"",d=0;a.forEach(function(a){a=a.split("\t");1<a.length&&(b&&(b+=","),b+=a[0],d+=parseInt(a[1],10))});28<b.length&&(b=b.substring(0,28)+"...");b=b+"<br>Total: "+hi5.tool.bytesToSize(d)+" Qty:"+a.length;__svi18n.info.download&&g.showMessage({title:__svi18n.info.download,msg:b,timeout:9E3,cbYes:function(){this.destroy();H.download()},cbNo:function(){this.destroy()}});return!0}return!1};this.processImgCopy=function(a){return 0<a.indexOf("data-sv-img")&&__svi18n.info.imgCopyDownload?(g.showMessage({title:__svi18n.info.imgCopyDownload,
msg:a,timeout:9999}),!0):!1}},Oa=t.isMacOS||t.isiOS,A=new function(){this.afterComposition=this.onComposition=this.ctrlDelayed=this.noKeyStuck=!1;this.preKey={code:0,down:!1};this.preScancode={code:0,down:!1};var a=this.noUnicode=!1,b=!1,d=!1,c={};this.sendMissKey=function(){for(var a in c)c[a]&&l(!1,parseInt(a,10))};this.isKeyDown=function(a){return c[a]};this.isKeyDownSent=function(a,b){var d=!0;a||(d=c[b]);c[b]=a;return d};this.check=function(a){var b=I.getKeyCode(a),c="keydown"==a.type;if(m.checkLockFlags&&
144!=b&20!=b&&145!=b&&c&&a.getModifierState&&m.sendKeyboardSyncFlags){var d=0;a.getModifierState("CapsLock")&&(d|=4);Oa||t.isCrOS?d|=m.localLockFlags&2:a.getModifierState("NumLock")&&(d|=2);a.getModifierState("ScrollLock")&&(d|=1);a=d;m.checkLockFlags=!1;svGlobal.logger.info("sync lock key, current:"+a+" local:"+m.localLockFlags+" remote:"+m.remoteLockFlags);m.sendKeyboardSyncFlags(a)||(m.checkLockFlags=!0)}17==b&&(Q=c)};this["continue"]=function(c,e,g){if(29==e&&c)return A.ctrlDelayed=!0,!1;if(A.ctrlDelayed||
Oa&&c)if(184==e)A.ctrlDelayed=!1,d=b=!0;else if(A.ctrlDelayed)return A.ctrlDelayed=!1,b||l(!0,29),!0;if(29==e){if(b&&!c)return!1}else if(184==e&&b)return c||(b=!1,a=!0,d&&g&&(l(!0,184),l(!1,184),d=!1)),g?!1:!0;return!0};this.isAltGr=function(c){return b?(d=!1,!0):a?(a=!1,c?!1:!0):!1}};this.requestCredential=function(a,b){r.closeOnDisconn=!1;var d=null,c=k.frmLogin;if(c)d=k.frmLogin;else{var f=__svi18n.template.login;if(!f){g.showMessage("No value for login template");return}d=document.createElement("div");
d.className="appdlg";d.innerHTML=f;document.body.appendChild(d);c=hi5.$("frmLogin")}var e=Ea(c,"loginDomain"),h="INPUT"==e.tagName.toUpperCase();e&&a.nbDomain&&(h?e.value=a.nbDomain:e.innerHTML=a.nbDomain);var l=new hi5.ui.Lightbox(d);l.onclose=function(){document.body.removeChild(d)};l.show();(f=Ea(c,"loginUser"))&&f.focus();c&&(c.onsubmit=function(){var a=Ea(c,"loginUser").value,d=Ea(c,"loginPassword").value,f=h?e.value:e.innerHTML;l.dismiss();setTimeout(function(){b(a,d,f)},5);return!1})};var q=
null;if(P)tb();else{var ib=hi5.$("tmContainer");ib&&ib.parentNode.removeChild(ib)}P&&!r.toolbar.draggable&&window.addEventListener("scroll",function(){setTimeout(function(){if(O){var a=k.pcKey;a&&(a.style.top=window.pageYOffset+"px",a.style.left=window.pageXOffset+"px")}g.toolbar&&(g.toolbar.style.top=window.pageYOffset+"px",g.toolbar.style.left=window.pageXOffset+.45*window.innerWidth+"px")},200)},!1);this.setCaretPos=function(a,b){};this.showMessage=function(a,b){a&&r.displayMsg&&Da.notify("string"==
typeof a?{msg:a,timeout:b||0}:a)};this.hideWhenClose="hideWhenClose"in r?r.hideWhenClose:!0;this.setReadOnly=function(a,b){Jb=(N=!a)||!0===b};this.setPlayerMode=function(){ha=!0;g.showToolbar=!1;g.setReadOnly(!0);g.hideWhenClose=!1};this.showTwoFAQR=function(){var a=m.getAppInfo(),b=hi5.$("twofainfo"),d=hi5.$("barcodeDiv"),c=hi5.$("enableTwoFA"),e=hi5.$("disableTwoFA");a.twoFAEnabled?(d.style.display="none",e.style.display="block",c.style.display="none"):(hi5.$("imgBarcode").src="data:image/png;base64,"+
hi5.Base64.enc(a.twoFAQR),d.style.display="block",e.style.display="none",c.style.display="block");var h=hi5.$("faCode");h.value="";var k=new hi5.ui.Lightbox(b);k.show();c.onclick=e.onclick=function(a){var b=h.value;a=a.target==c?1:0;m.onauthcoderesult=function(a,b){b?k.dismiss():(h.value="",g.showMessage(__svi18n.errorCode.S3021||"Wrong authentication code",5E3))};6!=b.length?hi5.notifications.notify(__svi18n.info.digit6||"It must be a 6 digit number"):m.authWithCode(b,a)}};this.showTwoFACode=function(){var a=
hi5.$("twofacode");if(a){var b=new hi5.ui.Lightbox(a,{noClose:!0});b.show();var a=hi5.$("btnTwoFACode"),d=hi5.$("faAuthCode");d.value="";a.onclick=function(){var a=d.value;6!=a.length?hi5.notifications.notify(__svi18n.info.digit6||"It must be a 6 digit number"):(m.onauthcoderesult=function(a,c){c?b.dismiss():(d.value="",g.showMessage(__svi18n.errorCode.S3021||"Wrong authentication code",5E3));m.onauthcoderesult=null},m.authWithCode(a,2))}}};this.setAutoScale=function(a){var b="autoScale"in r;b&&(a=
r.autoScale);a?(va(!0),Ya("hidden")):b||va(!1);na=a};Ba&&ua(r.cursorNameOnly);this.setTouchpad=function(a){ba=a;var b=hi5.$("touchpadMode");b&&(b.checked=a,b.onchange=function(a){ba=a.target.checked});a&&(h||ua(r.cursorNameOnly))};this.setExtKeyboard=function(a){if(P){q.adjust(!0);q.setContentEditable(a?"true":"false");fa=a?1:0;t.isChrome&&q.setFontSize("2em");a&&q.focus();var b=hi5.$("extKBD");b&&b.checked!=a&&(b.checked=a)}};this.focus=function(){q&&B(q.element)};this.getInputElement=function(){return q};
this.scaleTo=function(a,b,d){Sa=a;Mb=b;fb=d;e&&50<L&&(a/=L,b/=M,fb?(R=a,Y=b):Y=R=b=a=Math.min(a,b),hi5.tool.scale(e.parentNode,a,b))};this.setSize=function(a,b,d){u.isMultiMon||(u.right!=u.left+a-1&&(u.right=u.left+a-1,u.bottom=u.top+b-1),L=a,M=b,na||Ya(d),e.width=L,e.height=M,na?va(!0):Sa&&Sa!=a&&g.scaleTo(Sa,Mb,fb),P&&tb(),q||(q=new lb),q.adjust())};this.reposition=function(){q.adjust()};this.setController=function(a){m=a;ya=a.draw;m.sendInput||(m.sendInput=m.send);P&&t.setOrientaionHandler(function(){window.innerWidth>
window.innerHeight!=L>M&&(na?va(!0):(clearTimeout(Ob),Ob=setTimeout(function(){window.innerWidth>window.innerHeight!=L>M&&(m.onorientationchange({svSurface:g,innerWidth:window.innerWidth,innerHeight:v(window.innerHeight)}),r.disableScoll||window.scrollTo(0,0))},555)))})};this.setFileHandler=function(a){"FileReader"in window||(a=null);if(a){if(!H&&!ha)if(H=a,H.addEvent("uploaded",function(a,b){!a&&hi5.$("filecontainer")&&Pb&16&&(hi5.$("__cancelUpload")&&(hi5.$("__cancelUpload").style.visibility="hidden"),
g.fileProgress&&(g.fileProgress.maxValue=0,g.fileProgress.style.display="none"),g.refreshFiles(!T),!b.cancelled&&__svi18n.file.uploadDone&&b.size&&b.duration&&g.showMessage(__svi18n.file.uploadDone+" "+hi5.tool.bytesToSize(b.size/(b.duration/1E3))+"/s",5E3))}),H.addEvent("uploadstarted",function(a){a&&setTimeout(Ra,999)}),hi5.$("filecontainer")){hi5.$("filecontainer").className="h5-form";hi5.$("total")&&(g.fileProgress=new hi5.ProgressBar(hi5.$("total")));var b=hi5.$("__cancelUpload");b&&b.addEventListener("click",
function(){H.cancelAll()},!1);H.addEvent("beforeupload",function(a,c,e){e||(b&&(b.style.visibility="visible"),g.fileProgress&&(g.fileProgress.style.display="block",g.fileProgress.maxValue+=a.size))});H.addEvent("progress",function(a){g.fileProgress&&g.fileProgress.setProgress(a)})}else $a()}else H=null,g.fileProgress=null,$a(),da&&(da.release(),da=null);vb();Xb()};this.setFeature=function(a){Pb=a;var b,d=!(a&16),c=!(a&65536);(d||ha)&&$a();a&128&&(b=hi5.$("uploadfile"))&&(b.style.visibility="hidden");
a&131072&&((b=hi5.$("__sv_download__"))&&b.parentNode.removeChild(b),(b=hi5.$("__sv_view__"))&&b.parentNode.removeChild(b));a&256||(b=hi5.$("shadowing"))&&b.parentNode.removeChild(b);a&1024||(b=hi5.$("ssParent"))&&b.parentNode.removeChild(b);(c&&d||ha)&&g.setFileHandler(null)};var xa=new function(){function a(){if(0===d.length){if(c=!1,!e){var a=hi5.$("_sv_pdf_parent");a&&g&&g.visible()&&g.dismiss();a&&a.parentNode&&setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},9999);t.isFirefox&&
m&&m.restoreResize&&m.restoreResize()}}else b()}function b(){var b=d.shift();if(b){var f=hi5.$("_sv_pdf_parent"),h=__svi18n.info.printready||"Your document is ready.",k=b.endsWith(".txt"),b=(e=!k&&(t.isAndroid||t.isiOS||!!r.showPDFLink))?'<p style="text-align:center;line-height:4em"><a href="'+b+'" target="_blank">'+h+"</a></p>":(t.isChromeApp?"<webview":"<iframe")+' src="'+b+'" width="100%" height="100%" id="_iFramePDF">'+(t.isChromeApp?"</webview>":"</iframe>");f&&f.visible&&f.visible()&&f.dismiss&&
f.dismiss();f&&f.parentNode&&f.parentNode.removeChild(f);f=document.createElement("div");f.style.backgroundColor="white";f.style.width=e?"30%":"70%";f.style.height=e?"4elm":"70%";f.id="_sv_pdf_parent";e?f.style.overflow="scroll":!k&&t.isFirefox&&m.saveResize&&m.saveResize(!1);f.innerHTML=b;document.body.appendChild(f);g=new hi5.ui.Lightbox(f,{close:{top:"-20px",right:"-15px"}});g.onclose=a;g.show();k&&(f=document.getElementById("_iFramePDF").contentWindow,f.focus(),f.print())}c=!0}var d=[],c=!1,e=
!1,g=null;this.clearPDF=function(){a()};this.showPDF=function(a){d.push(a);c||b()}};this.close=function(){hb=!1;svGlobal.logger.info("close ui...");N=!1;Ma&&cancelAnimationFrame(Ma);Ka();Vb();p&&(p.release(),p=null);La&&(La.release(),La=null);da&&(da.release(),da=null);U&&(U.release(),U=null);m=ya=ka=X=h=T=H=U=K=A=I=null;g.fileProgress=null;xa&&xa.clearPDF();xa=null;na&&g.setAutoScale(!1);O&&(O.setVisibility(!1),O.release(),O=null);"clearScreen"in r&&!r.clearScreen||E.fillRect(0,0,e.width,e.height);
window.svSurface&&window.svSurface==g&&(window.svSurface=null);rb=!0;if(window&&!ha){try{if(0<Da.notifySize()){Da.onempty=function(){g.close();Da.onempty=null};return}if(r.closeOnDisconn)window.close();else if(this.hide(),t.isChromeApp){var a=chrome.app.window.current();a&&!r.disableMaxFullScn&&(a.onMaximized.removeListener(mb),a.isFullscreen()&&(a.restore(),a.restore()))}}catch(b){}g=e=E=g.context=null;svGlobal.logger.info("closed ui")}};this.setFastCopy=function(a){};this.drawLicense=function(a){if(0!=
r.drawLicense){var b=a.charAt(0);E.save();E.font="12pt Arial";E.fillStyle="W"==b?"red":"black";a=a.substring(1);E.fillText(a,10,M-24);E.restore()}};this.drawText=function(a){var b=r.text||{};E.save();var d=e.width,c=e.height;E.fillStyle=b.backgroundFillStyle||"white";E.fillRect(0,0,d,c);var f=20,g=50;"center"==b.textAlign&&(f=d/2,g=c/2);E.font=b.font||"18pt Arial";E.fillStyle=b.fillStyle||"black";b.textAlign&&(E.textAlign=b.textAlign);b.textBaseline&&(E.textBaseline=b.textBaseline);E.fillText(a,f,
g);E.restore()};this.showPDF=function(a){xa.showPDF(a)};this.hide=function(){g.hideWhenClose&&(e.height=1,e.width=1);q&&q.hide()};var Qb=0;this.copyToClip=function(a,b){if(Z&&ma){var d=p.parseClipData(a);if(!(r.copyTextOnly&&"text/plain"!=d.type||p.processFileGroup(d)))if(p.waitingCopyContent)p.copyContent=d;else{var c=d.value;(!r.copyDialog&&(!c.startsWith("<img data-sv-img")||navigator.clipboard&&navigator.clipboard.write)||p.hasCopyCmd||navigator.clipboard)&&p.copyToClipboard(d.type,c)}}};O=new function(){function a(){d&&
(Q?hi5.html.addClass(d,"button_selected"):hi5.html.removeClass(d,"button_selected"));c&&(ja?hi5.html.addClass(c,"button_selected"):hi5.html.removeClass(c,"button_selected"));e&&(qa?hi5.html.addClass(e,"button_selected"):hi5.html.removeClass(e,"button_selected"))}function b(b){b=b.target;var f=b.innerHTML,f=f.replace(/\u2190/g,"left").replace(/\u2191/g,"up").replace(/\u2192/g,"right").replace(/\u2193/g,"down");switch(f){case "Ctrl":d||(d=b);Q?l(!1,29):l(!0,29);Q=!Q;a();break;case "Alt":c||(c=b);ja?
l(!1,56):l(!0,56);ja=!ja;a();break;case "Shift":e||(e=b);qa?l(!1,42):l(!0,42);qa=!qa;a();break;case "...":if(b=Ea(k.pcKey,"pc_key_more"))b.style.display="block"==b.style.display?"none":"block";break;case "Start":f="Ctrl+Esc";default:g.writeKeyComb(f),O.resetModifier()}}var d=null,c=null,e=null,h={ctrl:!1,alt:!1,shift:!1};this.release=function(){h=null};this.setStickyKey=function(a){h=a};this.setVisibility=function(a){if(a){if(fa=Date.now(),a=k.pcKey)a.style.display="block",a.style.top=window.pageYOffset+
"px",U&&(U.setValue("`\t`"),U.select())}else if(fa=0,a=k.pcKey)a=hi5.$("shortcuts"),a&&a.checked||(m.style.display="none")};this.resetModifier=function(){ja&&!h.alt&&(ja=!1,l(!1,56));Q&&!h.ctrl&&(Q=!1,l(!1,29));qa&&!h.shift&&(qa=!1,l(!1,42));a()};var m=k.pcKey;if(m){var p=m.getElementsByTagName("span"),q=p.length,r=t.isFirefox?"mousedown":"touchstart";"ontouchstart"in window||(navigator.pointerEnabled?r="pointerdown":navigator.msPointerEnabled&&(r="MSPointerDown"));for(var u=0;u<q;u++){var v=p[u];
v.className="button";v.addEventListener(r,b,!1);"mousedown"!=r&&v.addEventListener("mousedown",b,!1)}m.style.position="absolute"}};this.setStickyKey=function(a){O.setStickyKey(a)};var Rb=hi5.$("shortcuts");Rb&&Rb.addEventListener("change",function(a){O.setVisibility(a.target.checked)});this.setKeysVisibility=function(a){O&&O.setVisibility(a)};this.setDirectory=function(a){var b=hi5.$("parentPath");b&&"."!=a&&(b.currentDir=a)};this.refreshFiles=function(a){a?(ia(".",null),(a=document.getElementById("__sv_folder__"))&&
!a.onclick&&H.mkdirs&&(a.onclick=function(){var a=document.getElementById("__sv_folder_name_");a&&a.value&&(H.mkdirs(a.value),ia(".",null),a.value="")})):T&&T.visible()?ia(".",T):ub(null)};this.showConnectonInfo=function(){var a=m.getAppInfo(),b=hi5.$("numericId");b&&(b.innerHTML=a.numericId);if(b=hi5.$("connectingTo"))b.innerHTML=a.server;if(b=hi5.$("joinLink"))b.href=b.innerHTML=a.joinLink;b=new hi5.ui.Lightbox(hi5.$("appinfo"));b.show();q&&(q.element.oncontextmenu=null,q.element.onselectstart=
null);b.onclose=sb;b=hi5.$("btnTwoFA");hi5.$("twofainfo")&&b&&(a.twoFAEnabled||a.twoFAQR?b.onclick=function(){g.showTwoFAQR()}:b.disabled=!0)};this.setupTwoFA=function(a){};this.processLink=function(a){function b(b){window.open(a);b.target.parentNode.removeChild(b.target)}if((!g.beforeOpenLink||!g.beforeOpenLink(a))&&g.toolbar){clearTimeout(Qb);var d=g.toolbar,c=d.getButton("_svLinkInfo");c?c.onclick=b:(c=d.addButton(r.img.link?r.img.link:"link.png",b),c.id="_svLinkInfo");c.title=a;d.startFade();
Qb=setTimeout(function(){g.toolbar&&g.toolbar.removeButton("_svLinkInfo")},1E4)}};this.setUnicode=function(a){q&&(!a&&P&&(t.isiOS||t.isAndroid)&&(a=!0),svGlobal.logger.info("Unicode:"+a),G.onkeydown=G.onkeyup=a?Zb:Cb,G.ontextinput=a?ac:null,G.unicode=a)&&(G.oncomposition=$b)};this.forceScancode=function(a){Fb=a};this.setTouchRemoting=function(a){!0===a?(ka=new Tb(g,e),svGlobal.logger.info("touch remoting"),__svi18n.info.touchremoting&&g.showMessage(__svi18n.info.touchremoting)):ka=new kb(g)};this.setClipboard=
function(a,b,d){(Z=a)?(ma=void 0==b?!0:b,gb=void 0==d?!0:d,p.init()):gb=ma=!1;sa=a?!t.isChromeApp&&!r.copyDialog&&!r.directClipAccess&&!t.isIE:!1};this.setJoinMode=function(a){m.setJoinMode(a)};this.requestControl=function(){m.requestControl()};this.repaint=function(a,b,d,c){u.isMultiMon?(a<u.left&&(a=u.left),b<u.top&&(b=u.top),d>u.right&&(d=u.right),c>u.bottom&&(c=u.bottom),a<=u.right&&b<=u.bottom&&(a=m.refresh(a,b,d,c))&&E.putImageData(a.imgData,a.left-u.left,a.top-u.top,0,0,a.width,a.height)):
(a=m.refresh(a,b,d,c))&&E.putImageData(a.imgData,a.left,a.top,0,0,a.width,a.height)};this.running=function(){return hb};this.run=function(a,b,d,c){function f(a){a.target.removeEventListener("click",f,!1);m.send("884")}hb=!0;I.converMacCtrl=!1!==b;I.mapCmdToCtrl=!1!==c;A.noKeyStuck=!!d;!I.mapCmdToCtrl&&t.isMacOS&&F();q||(q=new lb);q.adjust();Da.clearAll();3758162961!=a&&3758162962!=a||!q||q.setContentEditable("false");I.setLayout(a);a=-1!=[99997,99998,99999].indexOf(a);void 0==r.closeOnDisconn&&(r.closeOnDisconn=
!!window.opener&&!t.isChromeApp);r.disableScoll||window.scrollTo(0,0);vb();Wb();b=q.element;ha||(ka=new kb(g),ga=new ta(b),ga.ontouch=Yb,ga.onmousedown=Va,ga.onmousemove=Wa,ga.onmouseup=Xa,b.addEventListener("mouseleave",Ja,!1),b.addEventListener("mouseenter",Ja,!1),V(b,cc,!1),b.addEventListener("paste",p.onPaste,!1),Z&&sa&&ma&&(b.addEventListener("copy",p.onCopy,!1),b.addEventListener("cut",p.onCopy,!1)));!1!==r.autoFocus&&B(b);g.setUnicode(a);this.drawText(__svi18n.wait);if(g.onstart)g.onstart(e);
b.addEventListener("click",f,!1);ya&&(Ma=requestAnimationFrame(xb));q.adjust();r.disableScoll||window.scrollTo(0,0)};var yb=r.animation||42;t.isIE&&(yb*=2);this.moveCursorBy=this.movCursorBy=zb;this.moveCursor=function(a,b,d,c,e,g){a-=u.left;b-=u.top;0>a||0>b||a>=L||b>=M||(h||ua(r.cursorNameOnly),h.__visible||h.__setVisible(!0),h.scrX=a,h.scrY=b,h.moveCursor(a+u.offX,b+u.offY,c,e,g),N&&!d&&m.sendInput("82"+a+"\t"+b),u.x=a,u.y=b)};this.switchSoftKeyboard=cb;this.isSoftKeyboardOn=function(){return ra};
var Sb=hi5.$("svTouchInput");Sb&&Sb.addEventListener("click",function(){cb()},!1);this.touchstart=function(a){switch(a.pointes){case 1:ba?(h||ua(r.cursorNameOnly),db("touchstart",a.screenX,a.screenY,!a.flick)):a.flick&&!Ha()||Aa(a.x,a.y,0);break;case 2:Na=a.screenX,pa=a.screenY}};this.touchmove=function(a){switch(a.pointes){case 1:ba?db("touchmove",a.screenX,a.screenY,!a.flick):a.flick&&!Ha()||Ib(a.x,a.y);break;case 2:19<Math.abs(a.screenY-pa)&&(Kb(a.x,a.y,0<a.screenY-pa?0:1),Na=a.screenX,pa=a.screenY)}};
this.touchend=function(a){switch(a.pointes){case 1:ba?db("touchend",a.screenX,a.screenY,!a.flick):(oa(a.x,a.y,!0),a.flick&&!Ha()||Ca(a.x,a.y,0));break;case 2:if(!a.moved){var b=ba?h.scrX:a.x;a=ba?h.scrY:a.y;oa(b,a);Aa(b,a,2);Ca(b,a,2)}break;case 3:if(a.gesture)switch(a.gesture){case "OPEN":l(!0,219);l(!0,200);l(!1,200);l(!1,219);break;case "CLOSE":l(!0,219);l(!0,208);l(!1,208);l(!1,219);break;case "LEFT":l(!0,56);l(!0,1);l(!1,1);l(!1,56);break;case "RIGHT":l(!0,42);l(!0,56);l(!0,1);l(!1,1);l(!1,56);
l(!1,42);break;case "UP":l(!0,42);l(!0,219);aa(!0,77,50);aa(!1,77,50);l(!1,219);l(!1,42);break;case "DOWN":l(!0,219),aa(!0,77,50),aa(!1,77,50),l(!1,219)}else cb()}};this.flick=function(a){switch(a.from){case 4:m.sendInput("840\t209");m.sendInput("8449152\t209");break;case 2:m.sendInput("840\t201"),m.sendInput("8449152\t201")}};this.longpress=function(a){ba&&(a.pointes=2);switch(a.pointes){case 1:var b=a.x;a=a.y;oa(b,a);Aa(b,a,2);Ca(b,a,2);break;case 2:h&&(Aa(h.scrX,h.scrY,2,1),Ca(h.scrX,h.scrY,2,
1))}};this.redirectTouches=function(a){if(N){for(var b=a.length,d,c="90"+b,e=0;e<b;e++)d=a[e],c=c+"\t"+d.contactId+";"+d.contactFlags+";"+Math.floor(d.x/R)+";"+Math.floor(d.y/Y);m.send(c)}};var Pa=0;this.setIgnorePaste=function(a){S=a};this.processClipReq=function(a){if(!Z)return m.send("881ERROR\t"),!0;var b=p.clipData;return b||S?(Gb(b,a),!0):p.accessClip(function(b){Gb(b,a)},a)};var Qa=t.isIE?new function(){var a;this.sendCtrlVLater=function(){a=setTimeout(Ra,333)};this.cancelCtrlV=function(){clearTimeout(a)};
return this}:null;this.getMousePosition=function(){return u};this.writeKeyComb=function(a){m.writeKeyComb(a)};this.setCursor=function(a){a&&!r.disableCursor&&(X=a,h&&h.setCursor(a),h&&Ba&&!a.system&&(h.__setVisible(!0),oa(u.x,u.y,!0)),ha||(a.result||(a.result=r.cursorNameOnly?"none":dc(a)),q?q.element.style.cursor=a.result:e.style.cursor=a.result))};this.setVisible=function(a,b){var d=a?"visible":"hidden";"number"==typeof b?setTimeout(function(){e.style.visibility=d},b):e.style.visibility=d};this.initWhiteboard=
function(a,b){var d=e.parentNode,c=d.querySelector('canvas[name="svWhiteboard"]');if(!c){c=document.createElement("canvas");c.setAttribute("name","svWhiteboard");c.width=a||L;c.height=b||M;c.style.zIndex=80;var f=q.element;c.style.position=f.style.position;c.style.left=f.style.left;c.style.top=f.style.top;d.appendChild(c)}return c};this.removeWhiteboard=function(){var a=e.parentNode,b=a.querySelector('canvas[name="svWhiteboard"]');b&&a.removeChild(b)};this.requestFullscreen=function(a){document.fullscreenElement?
(document.exitFullscreen(),document.removeEventListener("fullscreenchange",Lb,!1)):(!1!==a&&document.addEventListener("fullscreenchange",Lb,!1),document.body.requestFullscreen())}}svGlobal.LocalInterface||(svGlobal.LocalInterface=LocalInterface);
svGlobal.rdpFile={loadRdpFile:function(e,k){var v=k.elements,B=e.split("\r\n");2>B.length&&(B=e.split("\n"));if(2>B.length)return!1;var D=hi5.$("gateway"),F=D.value;k.reset();D.value=F;D=0;for(F=B.length;D<F;D++){var y=B[D],V=y.indexOf(":"),ta=y.substring(0,V),y=y.substring(V+3),ta=ta.toLowerCase();switch(ta){case "full address":V=y.indexOf(":");0<V?(v.server.value=y.substring(0,V),v.port.value=y.substring(V+1)):v.server.value=y;break;case "username":v.user.value=y;break;case "domain":v.domain.value=
y;break;case "connect to console":v.useConsole.checked="0"!=y;break;case "desktopwidth":v.width.value=y;break;case "desktopheight":v.height.value=y;break;case "session bpp":v.server_bpp.value=y;break;case "audiomode":v.playSound.value=y;break;case "alternate shell":0<y.length&&(v.command.value=y,hi5.$("app").checked||(hi5.$("shell").checked=!0));break;case "shell working directory":v.directory=y;break;case "redirectclipboard":v.mapClipboard.checked="0"!=y;break;case "redirectprinters":v.mapPrinter.checked=
"0"!=y;break;case "server port":0<y.length&&(v.port.value=y);break;case "disable wallpaper":v.background.checked="0"==y;break;case "disable themes":v.styles.checked="0"==y;break;case "disable menu anims":v.animation.checked="0"==y;break;case "disable full window drag":v.contents.checked="0"==y;break;case "allow font smoothing":v.smoothfont.checked="0"!=y;break;case "allow desktop composition":v.composition.checked="0"!=y;break;case "bitmapcachepersistenable":v.bitmap.checked="0"!=y;break;case "remoteapplicationprogram":v.exe.value=
y;break;case "remoteapplicationcmdline":v.args.value=y;break;case "remoteapplicationmode":hi5.$("app").checked="1"==y;break;case "loadbalanceinfo":v.loadBalanceInfo.value=y}}return!0},handleFiles:function(e,k){if(1!=e.length)hi5.notifications.notify({msg:"Please one file only"});else{var v=e[0],B=v.name,D=B.length;if(4<D&&".rdp"==B.substring(D-4).toLowerCase()){var F=new FileReader,y=!1;F.onload=function(e){!(e=e.target.result)||svGlobal.rdpFile.loadRdpFile(e,k)||y||(y=!0,F.readAsText(v))};F.readAsText(v,
"UTF-16LE")}else hi5.notifications.notify({msg:"Sorry, Please .rdp file only"})}}};
function initDragDrop(e,k){function v(e){svGlobal.rdpFile.handleFiles(e.target.files,k)}if("FileReader"in window){var B=e.style.backgroundColor,D=hi5.$("rdpfile");D&&D.addEventListener("change",v,!1);e.addEventListener("dragover",function(k){cancelDefault(k);e.style.backgroundColor="yellow"},!1);e.addEventListener("dragleave",function(k){cancelDefault(k);e.style.backgroundColor=B},!1);e.addEventListener("drop",function(v){cancelDefault(v);e.style.backgroundColor=B;svGlobal.rdpFile.handleFiles(v.dataTransfer.files,
k)},!1)}}svGlobal.util.initDragDrop=initDragDrop;
svGlobal.util.initMapDisk=svGlobal.util.MapDisk=function(e,k,v){function B(v){cancelDefault(v);k&&("0.6"!=e.style.opacity&&(e.style.opacity="0.6"),e.style.backgroundColor="yellow")}function D(v){cancelDefault(v);k&&(e.style.opacity=e.__oldOpacity,e.style.backgroundColor=e.__oldColor)}function F(y){cancelDefault(y);if(k){e.style.opacity=e.__oldOpacity;e.style.backgroundColor=e.__oldColor;var B=hi5.file.getEntries(y);!B.length||"file:"==location.protocol&&!hi5.browser.isElectron&&hi5.browser.isChrome?
k.addFiles?k.addFiles(y.dataTransfer.files,v):k.addFile(y.dataTransfer.files[0]):hi5.file.getFilesFromEntries(B,function(e){k.addFiles?k.addFiles(e,v):k.addFile(e[0])})}}"FileReader"in window&&(e.__oldColor=e.style.backgroundColor,e.__oldOpacity=e.style.opacity,e.addEventListener("dragover",B,!1),e.addEventListener("dragleave",D,!1),e.addEventListener("drop",F,!1),this.release=function(){e.removeEventListener("dragover",B,!1);e.removeEventListener("dragleave",D,!1);e.removeEventListener("drop",F,
!1);e=k=null})};
svGlobal.util.getServerArgs=function(e){var k=window.opener;if(!e)try{k&&k.__sparkUser&&k.__sparkUser.server&&(e=k.__sparkUser.server),!e&&k.sparkServer&&(e=k.sparkServer)}catch(v){}e?(k=e.rdp||e.vnc||e.ssh||e.telnet||null)&&!e.server&&(k.gateway=e.gateway,k.session=e.session,k.account=e.account,k.server=e.id,k.displayName=e.displayName,k.shadowing=e.shadowing,k.user=k.username||"",k.pwd=k.password||"",k.useConsole=k.console||!1,k.server_bpp=k.color,k.legacyMode=k.leagacyMode||k.legacyMode||!1,k.exe=
k.remoteProgram||"",k.args=k.remoteArgs||"",k.startProgram=0<k.exe.length?"app":k.command&&0<k.command.length?"shell":"noapp",e.keyboard&&(k.keyboard=e.keyboard),e=k):e=hi5.browser.cookie2Obj();return e};(function(){function e(k){k=document.getElementsByClassName("ver");for(var v=k.length,B=0;B<v;B++)k[B].innerHTML=svGlobal.version;window.removeEventListener("load",e,!1)}window.addEventListener("load",e,!1)})();
svGlobal.gatewayError=function(e,k){var v=__svi18n.errorCode["S"+e];v?k&&(v+="; "+k):v=k;hi5.notifications.notify(v)};svGlobal.logger.info("ver:"+svGlobal.version);
